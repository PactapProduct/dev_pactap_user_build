"use strict";(self.webpackChunkpactap_frontend=self.webpackChunkpactap_frontend||[]).push([[719],{40719:(mt,Q,u)=>{u.r(Q),u.d(Q,{QuickQuotesModule:()=>dt});var a=u(96814),c=u(56223),d=u(72253),f=u(69862),m=u(64716),t=u(99468),x=u(1665),g=u(29917),v=u(45824),b=u(63094),h=u(20553);let _=(()=>{class o{constructor(e){this.http=e}addQuickQuote(e){return this.http.post(`${h.N.apiUrl}quickQuote`,e)}getProducts(){return this.http.get(`${h.N.apiUrl}quickQuote/product`)}quickQuotesList(e){return this.http.get(`${h.N.apiUrl}quickQuote`,{params:e})}quickQuoteDetail(e){return this.http.get(`${h.N.apiUrl}quickQuote/${e}`)}getCountryList(){return this.http.get(`${h.N.apiUrl}location/country`)}static#t=this.\u0275fac=function(s){return new(s||o)(t.LFG(f.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function T(o,r){if(1&o&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e._id),t.Q6J("id","product"+e._id),t.xp6(1),t.hij(" ",e.productName," ")}}function A(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Product is required. "),t.qZA())}function I(o,r){if(1&o&&(t.TgZ(0,"div",28),t.YNc(1,A,2,0,"div",29),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.quickQuoteFormControls.products.errors.required)}}function C(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",30)(1,"button",31),t.NdJ("click",function(){const i=t.CHM(e),n=i.index,l=i.$implicit,p=t.oxw();return t.KtG(p.removeItem(n,l))}),t._uU(2),t._UZ(3,"i",32),t.qZA()()}if(2&o){const e=r.$implicit,s=t.oxw();t.xp6(2),t.hij("",s.productsObj[e]," ")}}function U(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Details are required. "),t.qZA())}function w(o,r){if(1&o&&(t.TgZ(0,"div",33),t.YNc(1,U,2,0,"div",29),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.quickQuoteFormControls.details.errors.required)}}function D(o,r){1&o&&(t.TgZ(0,"div",34),t._UZ(1,"img",35)(2,"br"),t.TgZ(3,"h6",36),t._uU(4,"File format .pdf, .xls, .word, .csv, .ai, .cdr, .png, .jpeg"),t.qZA()())}function y(o,r){1&o&&(t.TgZ(0,"div",34),t._UZ(1,"i",37),t.qZA())}function F(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Attachment is required. "),t.qZA())}function N(o,r){if(1&o&&(t.TgZ(0,"div",28),t.YNc(1,F,2,0,"div",29),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.quickQuoteFormControls.attachment.errors.required)}}function Y(o,r){1&o&&t._UZ(0,"img",46)}function J(o,r){1&o&&t._UZ(0,"img",47)}function L(o,r){1&o&&t._UZ(0,"img",48)}function S(o,r){if(1&o&&t._UZ(0,"img",49),2&o){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function P(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",39)(2,"button",40),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.removeFile(n))}),t.qZA(),t.TgZ(3,"div",41),t.YNc(4,Y,1,0,"img",42),t.YNc(5,J,1,0,"img",43),t.YNc(6,L,1,0,"img",44),t.YNc(7,S,1,1,"img",45),t.qZA(),t.TgZ(8,"h6"),t._uU(9),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(4),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","word"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","csv"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","jpg"===e.split(".").pop()||"svg"===e.split(".").pop()||"jpeg"===e.split(".").pop()||"png"===e.split(".").pop()||"gif"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function O(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Quantity is required. "),t.qZA())}function j(o,r){if(1&o&&(t.TgZ(0,"div",28),t.YNc(1,O,2,0,"div",29),t.qZA()),2&o){const e=t.oxw().$implicit;let s;t.xp6(1),t.Q6J("ngIf",null==(s=e.get("qty"))||null==s.errors?null:s.errors.required)}}function E(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",58)(2,"td",59),t._uU(3),t.qZA(),t.TgZ(4,"td",55)(5,"span",60),t._UZ(6,"input",61),t.YNc(7,j,2,1,"div",8),t.qZA()(),t.TgZ(8,"td",55)(9,"a",62),t.NdJ("click",function(){const i=t.CHM(e),n=i.index,l=i.$implicit,p=t.oxw(2);return t.KtG(p.removeItem(n,l.value.productId))}),t._UZ(10,"i",63),t.qZA()()(),t.BQk()}if(2&o){const e=r.$implicit,s=r.index,i=t.oxw(2);let n;t.xp6(1),t.Q6J("formGroupName",s),t.xp6(2),t.hij("",i.productsObj[e.value.productId]," "),t.xp6(4),t.Q6J("ngIf",i.submitted&&(null==(n=e.get("qty"))?null:n.errors))}}function M(o,r){if(1&o&&(t.TgZ(0,"div",50)(1,"div",51)(2,"div",52)(3,"table",53)(4,"thead")(5,"tr",54)(6,"td"),t._uU(7,"Product Listing"),t.qZA(),t.TgZ(8,"td",55),t._uU(9,"Quantity"),t.qZA(),t.TgZ(10,"td",55),t._uU(11,"\xa0"),t.qZA()()(),t.TgZ(12,"tbody"),t.ynx(13,56),t.YNc(14,E,11,3,"ng-container",57),t.BQk(),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(14),t.Q6J("ngForOf",e.formArrayControls.controls)}}const q=function(o){return{"is-invalid":o}},B=function(o){return{"fa-spin fa-spinner":o}};let R=(()=>{class o{constructor(e,s,i,n,l,p,pt){this.PS=e,this.ngxService=s,this.router=i,this._notifier=n,this.FB=l,this.US=p,this.QQS=pt,this.dropdownList=[],this.dropdownSettings={},this.selectedItems=[],this.attachments=[],this.submitted=!1,this.productsError=!1,this.productIds=[],this.productsObj={},this.isLoading=!1,this.isBtnLoading=!1,this.selctArr=[],this.productIds2=[]}ngOnInit(){this.products(),this.initForm()}initForm(){this.quickQuoteForm=this.FB.group({details:new c.NI("",[c.kI.required]),products:new c.Oe([],c.kI.required),attachment:["",c.kI.required]})}get quickQuoteFormControls(){return this.quickQuoteForm.controls}get formArrayControls(){return this.quickQuoteForm.controls.products}get formArrayProducts(){return this.quickQuoteForm.get("products")}addItem(e,s){s&&s>=0?this.formArrayControls.insert(s,this.createItem(e)):this.formArrayControls.push(this.createItem(e))}createItem(e){return this.FB.group({productId:new c.NI(e,[c.kI.required]),qty:new c.NI("",[c.kI.required])})}getFormGroup(e){return e}addQueryParams(){return new f.LE}products(){this.ngxService.start(),this.QQS.getProducts().pipe((0,m.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status&&(this.productsList=e?.data,this.productsList.map(s=>{this.productsObj={...this.productsObj,[s._id]:s.productName}}),setTimeout(()=>{$(".selectpicker").selectpicker({multiple:!0}),$(".selectpicker").on("change",()=>{var s=$(".selectpicker").val();if(this.quickQuoteForm.value.products.length>s.length)return this.missingIndexes=this.quickQuoteForm.value.products.map((i,n)=>-1===s.indexOf(i.productId)?n:-1).filter(i=>-1!==i),console.log(this.missingIndexes),void this.removeItem(this.missingIndexes,"");this.quickQuoteForm.value.products.length<s.length&&(this.addNewIndex=s.map((i,n)=>this.quickQuoteForm.value.products.some(p=>p.productId===i)?null:{productId:i,index:n}).filter(i=>null!==i)),this.selctArr=[],this.selctArr.push(0==s.length?s[0]:this.addNewIndex[0].productId),this.productsList.map((i,n)=>{this.productsList.map(l=>{l===i?._id&&(this.selectDynamicVal=i?.productName)})}),this.productIds=s,this.productIds2=this.selctArr,this.productIds2.map(i=>{this.addItem(i,this.addNewIndex[0].index)})})},100))})}removeItem(e,s){this.productIds.splice(e,1),setTimeout(()=>{$(".selectpicker").selectpicker("val",this.productIds),$(".selectpicker").selectpicker("refresh")},100),this.quickQuoteForm.controls.products.removeAt(e)}onItemSelect(e){this.productsError=!1,this.selectedItems.push(e),this.addItem(e,"")}onItemSelectAll(e){this.productsError=!1,this.formArrayControls.clear(),this.selectedItems=e,this.selectedItems.map((s,i)=>{this.addItem(s,"")})}fileValue(e){var s=e.target.files[0],n=e.target.value.split(".").pop();"pdf"==n||"word"==n||"csv"==n?s&&this.uploadDoc(s):"jpg"==n||"svg"==n||"jpeg"==n||"png"==n||"gif"==n?this.uploadImage(s):alert("File not supported. Kindly Upload the Image of below given extension ")}uploadImage(e){this.isLoading=!0;let s=new FormData;s.append("image",e),this.US.uploadImage(s).pipe((0,m.x)(()=>{this.isLoading=!1})).subscribe(i=>{i.meta.status?(this.attachments.push(i?.data),this.quickQuoteForm.get("attachment")?.setValue(this.attachments)):this._notifier.showError(i.meta.msg,"Error")})}uploadDoc(e){this.isLoading=!0;let s=new FormData;s.append("doc",e),this.US.uploadDocument(s).pipe((0,m.x)(()=>{this.isLoading=!1})).subscribe(i=>{i.meta.status?(this.attachments.push(i?.data),this.quickQuoteForm.get("attachment")?.setValue(this.attachments)):this._notifier.showError(i.meta.msg,"Error")})}removeFile(e){this.ngxService.start();let s={filePath:e.split("/").pop()};this.US.removeFile(s).pipe((0,m.x)(()=>{this.ngxService.stop()})).subscribe(i=>{if(i.meta.status){const n=this.attachments.indexOf(e);this.attachments.splice(n,1),this.quickQuoteForm.get("attachment")?.setValue(this.attachments)}else this._notifier.showError(i.meta.msg,"Error")})}submitQuickQuote(){this.quickQuoteForm.valid&&this.formArrayControls?.length>0?(this.isBtnLoading=!0,this.QQS.addQuickQuote({products:this.quickQuoteForm.value.products,details:this.quickQuoteForm.value.details,attachment:this.attachments}).pipe((0,m.x)(()=>{this.isBtnLoading=!1})).subscribe(s=>{s.meta.status?(this.router.navigate(["/quick-quotes/previous-request"]),this._notifier.showSuccess(s.meta.msg,"Success")):this._notifier.showWarning(s.meta.msg,"Error")},s=>{this._notifier.showError("Something Went Wrong","Error")})):(this.submitted=!0,this.productsError=!0)}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(x.s),t.Y36(g.LA),t.Y36(d.F0),t.Y36(v.l),t.Y36(c.qu),t.Y36(b.C),t.Y36(_))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-quick-quotes"]],decls:41,vars:22,consts:[[1,"bg-white","white-well"],[1,"form-box"],[3,"formGroup"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"form-group"],["data-selected-text-format","count","multiple","","aria-label","Default select example","name","productIds","data-live-search","true","placeholder","Select Product",1,"form-control","selectpicker",3,"ngClass"],[3,"id","value",4,"ngFor","ngForOf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"d-flex","flex-wrap","mt-2"],["class","form-check-inline text-center alert alert-dismissible fade show p-0","role","alert",4,"ngFor","ngForOf"],["rows","4","placeholder","Type here","formControlName","details",1,"form-control","form-ctrl",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"upload-doc-item","Upload-plus"],[1,"image-upload"],["type","file","name","","id","logo",3,"disabled","change"],["for","logo","id","file-label",1,"upload-field"],["class","file-thumbnail",4,"ngIf"],[1,"d-flex","flex-wrap"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-6 col-lg-6 ps-5",4,"ngIf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"btn-width","ms-auto"],["type","button",1,"btn","btn-block","btn-lg","btn-success","btn-sumbit",3,"disabled","click"],[1,"fa",3,"ngClass"],[3,"id","value"],[1,"invalid-feedback",2,"display","block"],[4,"ngIf"],["role","alert",1,"form-check-inline","text-center","alert","alert-dismissible","fade","show","p-0"],["type","button",1,"btn","btn-sm","btn-light",3,"click"],[1,"ms-2","fa","fa-close"],[1,"invalid-feedback"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/upload-icon.png","alt",""],["id","filename"],[1,"fa","fa-spin","fa-spinner"],[1,"form-check-inline","text-center"],["role","alert",1,"alert-photo","alert","alert-warning","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"alert-photo-img"],["src","assets/images/pdf.png",4,"ngIf"],["src","assets/images/excel.png",4,"ngIf"],["src","assets/images/csv.png",4,"ngIf"],[3,"src",4,"ngIf"],["src","assets/images/pdf.png"],["src","assets/images/excel.png"],["src","assets/images/csv.png"],[3,"src"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","ps-5"],[1,"table-card"],[1,"table-reponsive"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],[1,"text-center"],["formArrayName","products"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"text-success"],[1,"greyBox2","bg-gray2","btn-block"],["type","text","formControlName","qty",1,"form-control"],["href","javascript:void(0)",1,"text-dark","underline-none","viewText",3,"click"],[1,"fa","fa-trash-o"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label"),t._uU(7,"Products"),t.TgZ(8,"sup"),t._uU(9,"*"),t.qZA()(),t.TgZ(10,"select",6),t.YNc(11,T,2,3,"option",7),t.qZA(),t.YNc(12,I,2,1,"div",8),t.qZA(),t.TgZ(13,"div",9),t.YNc(14,C,4,1,"div",10),t.qZA(),t.TgZ(15,"div",5)(16,"label"),t._uU(17,"Details"),t.qZA(),t._UZ(18,"textarea",11),t.YNc(19,w,2,1,"div",12),t.qZA(),t.TgZ(20,"div",5)(21,"label",13),t._uU(22,"Attachments "),t.qZA(),t.TgZ(23,"div",14)(24,"div",15)(25,"div",16)(26,"input",17),t.NdJ("change",function(l){return i.fileValue(l)}),t.qZA(),t.TgZ(27,"label",18),t.YNc(28,D,5,0,"div",19),t.YNc(29,y,2,0,"div",19),t.qZA()()()(),t.YNc(30,N,2,1,"div",8),t.qZA(),t.TgZ(31,"div",5)(32,"div",20),t.YNc(33,P,10,5,"div",21),t.qZA()()(),t.YNc(34,M,15,1,"div",22),t.qZA()(),t.TgZ(35,"div",3),t._UZ(36,"div",23),t.qZA(),t.TgZ(37,"div",24)(38,"button",25),t.NdJ("click",function(){return i.submitQuickQuote()}),t._UZ(39,"i",26),t._uU(40," Submit"),t.qZA()()()()),2&s&&(t.xp6(2),t.Q6J("formGroup",i.quickQuoteForm),t.xp6(8),t.Q6J("ngClass",t.VKq(16,q,i.submitted&&i.quickQuoteFormControls.products.errors)),t.uIk("data-count-selected-text",i.selectDynamicVal),t.xp6(1),t.Q6J("ngForOf",i.productsList),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.products.errors),t.xp6(2),t.Q6J("ngForOf",i.productIds),t.xp6(4),t.Q6J("ngClass",t.VKq(18,q,i.submitted&&i.quickQuoteFormControls.details.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.details.errors),t.xp6(7),t.Q6J("disabled",i.isLoading),t.xp6(2),t.Q6J("ngIf",!i.isLoading),t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.quickQuoteFormControls.attachment.errors),t.xp6(3),t.Q6J("ngForOf",i.attachments),t.xp6(1),t.Q6J("ngIf",i.formArrayControls.length),t.xp6(4),t.Q6J("disabled",i.isBtnLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(20,B,i.isBtnLoading)))},dependencies:[c._Y,c.YN,c.Kr,c.Fj,c.JJ,c.JL,c.sg,c.u,c.x0,c.CE,a.mk,a.sg,a.O5]})}return o})();var K=u(78645),V=u(83620),G=u(93997),k=u(16676),Z=u(64686);const H=function(o){return["/quick-quotes/details",o]};function z(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"a",21),t._uU(14,"View"),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(2),t.Oqu(null==e?null:e.qucikQuoteId),t.xp6(2),t.Oqu(null==e?null:e.status),t.xp6(2),t.Oqu(t.xi3(7,7,null==e?null:e.requestDate,"dd/MM/YYYY")),t.xp6(3),t.AsE("",null==e||null==e.customer?null:e.customer.firstName," ",null==e||null==e.customer?null:e.customer.lastName,""),t.xp6(2),t.Oqu(null==e||null==e.products?null:e.products.length),t.xp6(2),t.Q6J("routerLink",t.VKq(10,H,null==e?null:e._id))}}let X=(()=>{class o{constructor(e,s,i,n){this.ngxService=e,this.router=s,this._notifier=i,this.QQS=n,this.searchKey="",this.fromDate="",this.toDate="",this.productId="",this.modelChanged=new K.x,this.productsList=[],this.page=1,this.contentPerPage=10,this.totalPage=0}ngOnInit(){this.modelChanged.pipe((0,V.b)(500),(0,G.x)()).subscribe(e=>{this.searchKey=e,this.getQuickQuotes()}),this.getQuickQuotes(),this.products()}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerQuickQuote").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0}).on("datepicker-change",(e,s)=>{this.fromDate=k(s.date1).format("YYYY-MM-DD"),this.toDate=k(s.date2).format("YYYY-MM-DD"),this.getQuickQuotes()})}filterBySearch(e){this.modelChanged.next(e?.target?.value)}openCalendar(e){e.stopPropagation(),$(".daterangePickerQuickQuote").data("dateRangePicker").open()}products(){this.ngxService.start(),this.QQS.getProducts().pipe((0,m.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status&&(this.productsList=e?.data)})}addQueryParams(){let e=new f.LE;return e=e.append("searchTxt",this.searchKey),e=e.append("productId",this.productId),e=e.append("fromDt",this.fromDate),e=e.append("toDt",this.toDate),e=e.append("page",this.page),e=e.append("contentPerPage",this.contentPerPage),e}onScrollDown(e){this.page<this.totalPage&&(this.page+=1,this.getQuickQuotes(!0))}getQuickQuotes(e){this.ngxService.start(),this.QQS.quickQuotesList(this.addQueryParams()).pipe((0,m.x)(()=>{this.ngxService.stop()})).subscribe(s=>{s?.meta?.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(s.total/this.contentPerPage),this.previousQuotes=e?[...this.previousQuotes,...s.data]:s?.data):this.previousQuotes=e?this.previousQuotes:[]})}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(g.LA),t.Y36(d.F0),t.Y36(v.l),t.Y36(_))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],decls:33,vars:5,consts:[[1,"bg-white","white-well"],[1,"form-box","form-filter"],[1,"row"],[1,"col-12","col-sm-6","col-md-3","col-lg-3"],[1,"searchgroup","form-group"],["type","text","placeholder","Search",1,"form-control","form-ctrl",3,"keyup"],["type","button",1,"btn","btn-link"],["src","assets/images/search-icon.png"],[1,"col-6","col-sm-6","col-md-4","col-lg-4"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerQuickQuote"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],[1,"table-card"],["infiniteScroll","",1,"table-reponsive","fix-headertbl",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"table","text-center"],["scope","col",1,"text-start"],["scope","col"],[4,"ngFor","ngForOf"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"text-start"],["href","javascript:void(0)",1,"btn","btn-link","btn-sm","text-success","fw500","me-2",3,"routerLink"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"input",5),t.NdJ("keyup",function(l){return i.filterBySearch(l)}),t.qZA(),t.TgZ(6,"button",6),t._UZ(7,"img",7),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",9),t._UZ(10,"input",10),t.TgZ(11,"span",11),t.NdJ("click",function(l){return i.openCalendar(l)}),t._UZ(12,"i",12),t.qZA()()()()(),t.TgZ(13,"div",13)(14,"div",14),t.NdJ("scrolled",function(l){return i.onScrollDown(l)}),t.TgZ(15,"table",15)(16,"thead")(17,"tr")(18,"th",16),t._uU(19,"Quick Quote ID"),t.qZA(),t.TgZ(20,"th",17),t._uU(21,"Status"),t.qZA(),t.TgZ(22,"th",17),t._uU(23,"Quote Requested On"),t.qZA(),t.TgZ(24,"th",17),t._uU(25,"Requested by"),t.qZA(),t.TgZ(26,"th",17),t._uU(27,"No of Products"),t.qZA(),t.TgZ(28,"th",17),t._uU(29,"\xad"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,z,15,12,"tr",18),t.qZA()()()()(),t._UZ(32,"ngx-ui-loader",19)),2&s&&(t.xp6(14),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),t.xp6(17),t.Q6J("ngForOf",i.previousQuotes),t.xp6(1),t.Q6J("hasProgressBar",!1))},dependencies:[a.sg,d.rH,Z.Ry,g.Eo,a.uU]})}return o})();const W=function(){return["/quick-quotes/new-request"]},tt=function(){return["/quick-quotes/previous-request"]};let et=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:17,vars:4,consts:[[1,"dashboardMain"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"page-header","border-0"],[1,"mb-0"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","text-end"],[1,"col-7","col-sm-7","col-md-7","col-lg-7"],[1,"nav","nav-pills","tabs-nav-left"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","href","javascript:void(0)",1,"nav-link",3,"routerLink"],["routerLinkActive","active","href","javascript:void(0)",1,"nav-link",3,"routerLink"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5,"Quick Quote"),t.qZA()()(),t._UZ(6,"div",5),t.qZA(),t.TgZ(7,"div",1)(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),t._uU(12,"New Request"),t.qZA()(),t.TgZ(13,"li",8)(14,"a",10),t._uU(15,"Previous Request"),t.qZA()()()()(),t._UZ(16,"router-outlet"),t.qZA()),2&s&&(t.xp6(11),t.Q6J("routerLink",t.DdM(2,W)),t.xp6(3),t.Q6J("routerLink",t.DdM(3,tt)))},dependencies:[d.lC,d.rH,d.Od]})}return o})();var it=u(15861);function ot(o,r){1&o&&t._UZ(0,"img",38)}function st(o,r){1&o&&t._UZ(0,"img",39)}function nt(o,r){1&o&&t._UZ(0,"img",40)}function rt(o,r){if(1&o&&t._UZ(0,"img",41),2&o){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function lt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"div",31),t.YNc(3,ot,1,0,"img",32),t.YNc(4,st,1,0,"img",33),t.YNc(5,nt,1,0,"img",34),t.YNc(6,rt,1,1,"img",35),t.qZA(),t.TgZ(7,"h6"),t._uU(8),t.qZA()(),t.TgZ(9,"div")(10,"a",36),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.downloadImage(n))}),t._uU(11,"Download "),t._UZ(12,"i",37),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Q6J("ngIf","pdf"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","word"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","csv"===e.split(".").pop()),t.xp6(1),t.Q6J("ngIf","jpg"===e.split(".").pop()||"svg"===e.split(".").pop()||"jpeg"===e.split(".").pop()||"png"===e.split(".").pop()||"gif"===e.split(".").pop()),t.xp6(2),t.Oqu(e.split("-").pop())}}function ct(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td",42),t._uU(2),t.qZA(),t.TgZ(3,"td",23)(4,"span",43),t._uU(5),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(2),t.Oqu(null==e?null:e.productName),t.xp6(3),t.Oqu(null==e?null:e.qty)}}const ut=[{path:"",component:et,children:[{path:"new-request",component:R},{path:"previous-request",component:X}]},{path:"details/:id",component:(()=>{class o{constructor(e,s,i,n){this.routes=e,this.ngxService=s,this.QQS=i,this._notify=n}ngOnInit(){this.quickQuoteId=this.routes.snapshot.paramMap.get("id"),this.getDetail()}getDetail(){this.ngxService.start(),this.QQS.quickQuoteDetail(this.quickQuoteId).pipe((0,m.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.quickQuoteDetails=e?.data:this._notify.showError(e.meta.msg,"Error")})}downloadImage(e){return(0,it.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),n=e.substring(e.lastIndexOf("/")+1),l=document.createElement("a"),p=window.URL.createObjectURL(i);l.href=p,l.download=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(e)})()}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(d.gz),t.Y36(g.LA),t.Y36(_),t.Y36(v.l))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-details"]],decls:66,vars:16,consts:[[1,"dashboardMain"],[1,"page-header","back-page","border-0"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"bg-white","white-well","mb-0","mt-4"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"Price-Details"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","fw500"],[1,"badge","fw400"],[1,"form-group","mt-2"],["rows","2","placeholder","Sample details","readonly","",1,"form-control","form-ctrl",3,"value"],[1,"form-group"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","flex-wrap"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","ps-5"],[1,"table-card"],[1,"table-reponsive","fix-headertbl"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-12"],[1,"pt-1","pb-5","px-2","rounded","comment-class"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"form-check-inline","text-center"],["role","alert",1,"alert-photo","alert","alert-warning","alert-dismissible","fade","show"],[1,"alert-photo-img"],["src","assets/images/pdf.png",4,"ngIf"],["src","assets/images/excel.png",4,"ngIf"],["src","assets/images/csv.png",4,"ngIf"],[3,"src",4,"ngIf"],["href","javascript:void(0)",1,"downloadButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],["src","assets/images/pdf.png"],["src","assets/images/excel.png"],["src","assets/images/csv.png"],[3,"src"],[1,"text-success"],[1,"greyBox2","bg-gray2","btn-block"]],template:function(s,i){1&s&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h3",2)(4,"a",3),t._UZ(5,"img",4),t.qZA(),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"ul",9)(12,"li",10),t._uU(13," Quick Quote ID: "),t.TgZ(14,"span",11),t._uU(15),t.qZA()(),t.TgZ(16,"li",10),t._uU(17," Quick Quote Requested on: "),t.TgZ(18,"span",11),t._uU(19),t.ALo(20,"date"),t.qZA()(),t.TgZ(21,"li",10),t._uU(22," Quick Quote Requested by: "),t.TgZ(23,"span",11),t._uU(24),t.qZA()(),t.TgZ(25,"li",10),t._uU(26," Email ID: "),t.TgZ(27,"span",11),t._uU(28),t.qZA()(),t.TgZ(29,"li",10),t._uU(30," Contact No: "),t.TgZ(31,"span",11),t._uU(32),t.qZA()(),t.TgZ(33,"li",10),t._uU(34," Status: "),t.TgZ(35,"span",11),t._uU(36),t.qZA()()()(),t.TgZ(37,"div",12)(38,"label"),t._uU(39,"Details"),t.qZA(),t._UZ(40,"textarea",13),t.qZA(),t.TgZ(41,"div",14)(42,"label",15),t._uU(43,"Attachments "),t.qZA()(),t.TgZ(44,"div",14)(45,"div",16),t.YNc(46,lt,13,5,"div",17),t.qZA()()(),t.TgZ(47,"div",18)(48,"div",19)(49,"div",20)(50,"table",21)(51,"thead")(52,"tr",22)(53,"td"),t._uU(54,"Product Listing"),t.qZA(),t.TgZ(55,"td",23),t._uU(56,"Quantity"),t.qZA()()(),t.TgZ(57,"tbody"),t.YNc(58,ct,6,2,"tr",24),t.qZA()()()()()(),t.TgZ(59,"div",25)(60,"div",26)(61,"label"),t._uU(62,"Pactap's Comment"),t.qZA(),t.TgZ(63,"div",27),t._uU(64),t.qZA()()()()()(),t._UZ(65,"ngx-ui-loader",28)),2&s&&(t.xp6(6),t.hij(" Quick Quote ID: ",null==i.quickQuoteDetails?null:i.quickQuoteDetails.qucikQuoteId,""),t.xp6(9),t.Oqu(null==i.quickQuoteDetails?null:i.quickQuoteDetails.qucikQuoteId),t.xp6(4),t.Oqu(t.xi3(20,13,null==i.quickQuoteDetails?null:i.quickQuoteDetails.requestDate,"dd/MM/YYYY")),t.xp6(5),t.AsE("",null==i.quickQuoteDetails||null==i.quickQuoteDetails.customer?null:i.quickQuoteDetails.customer.firstName," ",null==i.quickQuoteDetails||null==i.quickQuoteDetails.customer?null:i.quickQuoteDetails.customer.lastName,""),t.xp6(4),t.Oqu(null==i.quickQuoteDetails||null==i.quickQuoteDetails.customer?null:i.quickQuoteDetails.customer.email),t.xp6(4),t.Oqu(null==i.quickQuoteDetails||null==i.quickQuoteDetails.customer?null:i.quickQuoteDetails.customer.contactNumber),t.xp6(4),t.Oqu(null==i.quickQuoteDetails?null:i.quickQuoteDetails.status),t.xp6(4),t.Q6J("value",(null==i.quickQuoteDetails?null:i.quickQuoteDetails.details)||""),t.xp6(6),t.Q6J("ngForOf",null==i.quickQuoteDetails?null:i.quickQuoteDetails.attachment),t.xp6(12),t.Q6J("ngForOf",null==i.quickQuoteDetails?null:i.quickQuoteDetails.products),t.xp6(6),t.hij(" ",null==i.quickQuoteDetails?null:i.quickQuoteDetails.pactapComment," "),t.xp6(1),t.Q6J("hasProgressBar",!1))},dependencies:[a.sg,a.O5,g.Eo,a.uU],styles:[".comment-class[_ngcontent-%COMP%]{border:1px solid #ccc;background-color:#eee}"]})}return o})()}];let at=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(ut),d.Bz]})}return o})(),dt=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[c.UX,c.u5,a.ez,at,Z.Rq,g.Js]})}return o})()}}]);