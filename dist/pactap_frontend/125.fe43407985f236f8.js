"use strict";(self.webpackChunkpactap_frontend=self.webpackChunkpactap_frontend||[]).push([[125],{45125:(it,h,a)=>{a.r(h),a.d(h,{DashboardModule:()=>nt});var _=a(96814),p=a(72253),t=a(99468),T=a(96155),g=a(20553),D=a(69862);let Z=(()=>{class e{constructor(n){this.http=n}getOrderList(n){return this.http.get(`${g.N.apiUrl}order/list?status=${n}`)}getPendingOrderList(n){return this.http.get(`${g.N.apiUrl}order/list?status=${n}&actionRequired=true`)}getShipmentList(){return this.http.get(`${g.N.apiUrl}shipment/list-all`)}static#t=this.\u0275fac=function(i){return new(i||e)(t.LFG(D.eN))};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u=a(29917);function C(e,o){if(1&e&&(t.TgZ(0,"a",21),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.Q6J("ngClass","MASS_ACCEPTED"===n.v_state||"PENDING"!==n.c_state&&"ACCEPTED"!==n.c_state||"PENDING"!==n.a_state&&"PPS_ACCEPTED"!==n.a_state?"btn-darkblue":"btn-warning"),t.xp6(1),t.hij(" ",n.newStatus," ")}}function A(e,o){if(1&e&&(t.TgZ(0,"a",21),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.Q6J("ngClass","ACCEPTED"!==n.v_state&&"MASS_ACCEPTED"!==n.v_state||"ACCEPTED"!==n.c_state||"PENDING"!==n.a_state?"btn-warning":"btn-darkblue"),t.xp6(1),t.hij(" ",n.newStatus," ")}}function b(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1," Vendor has requested change in Lead Time in one or more products in the order. "),t.qZA())}function P(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1," Your Approval is require for PPS, to proceed with mass production. "),t.qZA())}function N(e,o){if(1&e&&(t.TgZ(0,"div",22)(1,"p",13),t.YNc(2,b,2,0,"span",5),t.YNc(3,P,2,0,"span",5),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",n.isProductionLeadTimeChanged&&"PENDING"===n.c_state),t.xp6(1),t.Q6J("ngIf","ACCEPTED"===n.c_state&&n.isPpsProducts)}}function E(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",n.vendor.companyName," ")}}const x=function(e){return["/vendor/details",e]};function I(e,o){if(1&e&&(t.TgZ(0,"p",13)(1,"span"),t.YNc(2,E,2,1,"ng-container",5),t.TgZ(3,"a",25),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"date"),t.qZA()()),2&e){const n=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf",n.vendor.inviteBy),t.xp6(1),t.Q6J("routerLink",t.VKq(6,x,n.vendorId)),t.xp6(1),t.hij("(ID:",n.vendor.vendorId,")"),t.xp6(1),t.hij(" approved mass production on ",t.lcZ(6,4,null==n?null:n.vendorMassApproveDate)," ")}}function O(e,o){if(1&e&&(t.ynx(0),t.YNc(1,I,7,8,"p",23),t.TgZ(2,"p",13)(3,"span",24),t._uU(4,"Do you want to give final approval for Mass Production? "),t.qZA()(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==n?null:n.vendorMassApproveDate)}}function U(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",n.vendor.companyName," ")}}function y(e,o){if(1&e&&(t.TgZ(0,"p",13)(1,"span"),t.YNc(2,U,2,1,"ng-container",5),t.TgZ(3,"a",25),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"date"),t.qZA()()),2&e){const n=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf",n.vendor.inviteBy),t.xp6(1),t.Q6J("routerLink",t.VKq(6,x,n.vendorId)),t.xp6(1),t.hij("(ID:",n.vendor.vendorId,")"),t.xp6(1),t.hij(" approved mass production on ",t.lcZ(6,4,null==n?null:n.vendorMassApproveDate)," ")}}function Q(e,o){if(1&e&&(t.ynx(0),t.YNc(1,y,7,8,"p",23),t.TgZ(2,"p",13)(3,"span",24),t._uU(4,"Do you want to give final approval for Mass Production? "),t.qZA()(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==n?null:n.vendorMassApproveDate)}}const v=function(e){return["/order/pending-details",e]};function S(e,o){if(1&e&&(t.TgZ(0,"div",11)(1,"div",12)(2,"h6",13),t._uU(3,"Order ID: "),t.TgZ(4,"strong",14)(5,"a",15),t._uU(6),t.qZA()()(),t.TgZ(7,"p",13),t._uU(8,"Status: "),t.YNc(9,C,2,2,"a",16),t.YNc(10,A,2,2,"a",16),t.qZA(),t.TgZ(11,"p",13),t._uU(12,"No of Products: "),t.TgZ(13,"strong",17),t._uU(14),t.qZA()(),t.YNc(15,N,4,2,"div",18),t.YNc(16,O,5,1,"ng-container",5),t.YNc(17,Q,5,1,"ng-container",5),t.qZA(),t.TgZ(18,"div",19)(19,"a",20),t._uU(20,"Approve"),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(5),t.Q6J("routerLink",t.VKq(9,v,n._id)),t.xp6(1),t.Oqu(n.orderId),t.xp6(3),t.Q6J("ngIf",n.isPpsProducts),t.xp6(1),t.Q6J("ngIf",!n.isPpsProducts),t.xp6(4),t.Oqu(n.totalProducts),t.xp6(1),t.Q6J("ngIf",!("PENDING"!==n.c_state&&"ACCEPTED"!==n.c_state||"PENDING"!==n.a_state&&"PPS_ACCEPTED"!==n.a_state||"MASS_ACCEPTED"===n.v_state)),t.xp6(1),t.Q6J("ngIf",n.isPpsProducts&&"PPS_ACCEPTED"===n.v_state&&"PPS_ACCEPTED"===n.c_state),t.xp6(1),t.Q6J("ngIf",!n.isPpsProducts&&("ACCEPTED"===n.v_state||"MASS_ACCEPTED"===n.v_state)&&"ACCEPTED"===n.c_state),t.xp6(2),t.Q6J("routerLink",t.VKq(11,v,n._id))}}function q(e,o){if(1&e&&(t.ynx(0),t.YNc(1,S,21,13,"div",10),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.pendingOrders)}}function J(e,o){1&e&&(t.TgZ(0,"div",26),t._uU(1,"No Data Found."),t.qZA())}function B(e,o){1&e&&(t.ynx(0),t._uU(1," PRODUCTION NOT STARTED "),t.BQk())}function w(e,o){1&e&&(t.ynx(0),t._uU(1," IN PRODUCTION "),t.BQk())}function L(e,o){1&e&&(t.ynx(0),t._uU(1," PRODUCTION ENDED "),t.BQk())}function Y(e,o){1&e&&(t.ynx(0),t._uU(1,"ON TIME"),t.BQk())}function j(e,o){1&e&&(t.ynx(0),t._uU(1,"DELAYED"),t.BQk())}function k(e,o){if(1&e&&(t.TgZ(0,"div",32)(1,"p",33)(2,"span"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA(),t.TgZ(6,"span",34),t.YNc(7,B,2,0,"ng-container",5),t.YNc(8,w,2,0,"ng-container",5),t.YNc(9,L,2,0,"ng-container",5),t.TgZ(10,"span",35),t.YNc(11,Y,2,0,"ng-container",5),t.YNc(12,j,2,0,"ng-container",5),t.qZA()()()()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.Oqu(n.customerProduct.productTitle),t.xp6(2),t.hij("ID: ",n.customerProduct.customerProductId,""),t.xp6(2),t.Q6J("ngIf",!n.productionStartActualDate&&!n.productionEndActualDate),t.xp6(1),t.Q6J("ngIf",n.productionStartActualDate&&!n.productionEndActualDate),t.xp6(1),t.Q6J("ngIf",n.productionStartActualDate&&n.productionEndActualDate),t.xp6(2),t.Q6J("ngIf",n.productionDelayDays<=0),t.xp6(1),t.Q6J("ngIf",n.productionDelayDays>0)}}function F(e,o){if(1&e&&(t.ynx(0),t.YNc(1,k,13,7,"div",31),t.BQk()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngIf",!n.isPps)}}const m=function(e){return["/order/ongoing-details",e]};function M(e,o){if(1&e&&(t.TgZ(0,"div",11)(1,"div",27)(2,"h6",13),t._uU(3,"Order ID: "),t.TgZ(4,"strong",14)(5,"a",28),t._uU(6),t.qZA()()(),t.TgZ(7,"p",13),t._uU(8,"Status: "),t.TgZ(9,"a",29),t._uU(10," Production Ongoing "),t.qZA()(),t.TgZ(11,"p",13),t._uU(12,"No of Products: "),t.TgZ(13,"strong",17),t._uU(14),t.qZA()(),t.YNc(15,F,2,1,"ng-container",30),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(4,m,n._id)),t.xp6(5),t.Oqu(n.orderId),t.xp6(8),t.Oqu(n.totalProducts),t.xp6(1),t.Q6J("ngForOf",n.userProducts)}}function G(e,o){if(1&e&&(t.ynx(0),t.YNc(1,M,16,6,"div",10),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.ongoingOrders)}}function V(e,o){1&e&&(t.TgZ(0,"div",26),t._uU(1,"No Data Found."),t.qZA())}function R(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",32)(1,"p",33)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"strong",17),t._uU(5," Quantity "),t._UZ(6,"br"),t.TgZ(7,"a",29),t._uU(8),t.qZA(),t.TgZ(9,"span",38),t.NdJ("mouseenter",function(){const r=t.CHM(n),s=r.index,c=r.$implicit,d=t.oxw(),l=d.index,f=d.$implicit,et=t.oxw(2);return t.KtG(et.mouseEnter("myChart",l,s,c,f.shipmentNumber))})("mouseleave",function(){const s=t.CHM(n).index,c=t.oxw().index,d=t.oxw(2);return t.KtG(d.mouseLeave("myChart",c,s))}),t.TgZ(10,"div",39)(11,"h6",40),t._uU(12),t.qZA(),t._UZ(13,"canvas",41),t.qZA()()()()()}if(2&e){const n=o.$implicit,i=o.index,r=t.oxw().index;t.xp6(3),t.hij("",n.productName," "),t.xp6(5),t.Oqu(n.dispatchQuantity),t.xp6(2),t.hYB("id","infodrop2",r,"",i,""),t.xp6(2),t.hij("Total Quantity Order: ",n.totalQuantity," "),t.xp6(1),t.hYB("id","myChart",r,"",i,"")}}function K(e,o){if(1&e&&(t.TgZ(0,"a",20),t._uU(1,"Mark as Shipment Received"),t.qZA()),2&e){const n=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,m,n.orderId))}}function z(e,o){if(1&e&&(t.TgZ(0,"div",11)(1,"div",12)(2,"h6",13),t._uU(3,"Order ID: "),t.TgZ(4,"strong",14)(5,"a",15),t._uU(6),t.qZA()()(),t.TgZ(7,"p",13),t._uU(8,"Status: "),t.TgZ(9,"span",34),t._uU(10),t.qZA()(),t.TgZ(11,"p",13),t._uU(12,"No of Products in shipment: "),t.TgZ(13,"strong",17),t._uU(14),t.qZA()(),t.TgZ(15,"p",13),t._uU(16,"Shipment Number: "),t.TgZ(17,"strong",17),t._uU(18),t.qZA()(),t.TgZ(19,"p",13),t._uU(20,"Dispatched On: "),t.TgZ(21,"strong",17),t._uU(22),t.ALo(23,"date"),t.qZA()(),t.TgZ(24,"p",13),t._uU(25,"Logistics Lead Time: "),t.TgZ(26,"strong",17),t._uU(27),t.qZA()(),t.TgZ(28,"p",13),t._uU(29,"Total CBM: "),t.TgZ(30,"strong",17),t._uU(31),t.qZA()(),t.YNc(32,R,14,7,"div",36),t.qZA(),t.TgZ(33,"div",19),t.YNc(34,K,2,3,"a",37),t.qZA()()),2&e){const n=o.$implicit;t.xp6(5),t.Q6J("routerLink",t.VKq(12,m,n.orderId)),t.xp6(1),t.Oqu(n.order.orderId),t.xp6(4),t.hij(" ","DELIVERED"===n.a_state&&"RECEIVED"===n.c_state?"DELIVERED":n.status," "),t.xp6(4),t.Oqu(n.products.length),t.xp6(4),t.Oqu(n.shipmentNumber),t.xp6(4),t.hij(" ",t.lcZ(23,10,n.dispatchDate),""),t.xp6(5),t.hij("",n.logisticLeadTime," Days"),t.xp6(4),t.hij(" ",n.totalCbm.toFixed(7)," CBM"),t.xp6(1),t.Q6J("ngForOf",n.products),t.xp6(2),t.Q6J("ngIf","DISPATCHED"===n.status&&n.invoiceValueAdmin&&"RECEIVED"!==n.c_state)}}function H(e,o){if(1&e&&(t.ynx(0),t.YNc(1,z,35,14,"div",10),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.shipmentsOrders)}}function W(e,o){1&e&&(t.TgZ(0,"div",26),t._uU(1,"No Data Found."),t.qZA())}const X=[{path:"",component:(()=>{class e{constructor(n,i,r){this._US=n,this._DS=i,this.ngxService=r,this.pendingOrders=[],this.ongoingOrders=[],this.shipmentsOrders=[]}ngOnInit(){this._US.getUser().subscribe(n=>{this.user=n&&n.token?n:void 0}),this.getPendingOrderList(),this.getOngoingOrderList(),this.getShipmentList()}ngAfterViewInit(){setTimeout(()=>{this.user&&"ACTIVE"!==this.user.status&&$("#dashboardModal").modal("show")},200)}getPendingOrderList(){this.ngxService.start(),this._DS.getPendingOrderList("PENDING").subscribe(n=>{this.ngxService.stop(),n.meta.status&&(this.pendingOrders=n.data.filter(i=>"PENDING"!==i.v_state&&"MASS_ACCEPTED"!==i.c_state),this.pendingOrders.map(i=>{i.newStatus="",i.newStatus="PENDING"===i.c_state?"Order Acceptance Pending":"ACCEPTED"!==i.c_state||"PENDING"!==i.a_state&&"PPS_ACCEPTED"!==i.a_state||!i.isPpsProducts?"Mass Approval Pending":"PPS Approval Pending"}))},n=>{this.ngxService.stop()})}getOngoingOrderList(){this.ngxService.start(),this._DS.getOrderList("ONGOING").subscribe(n=>{if(this.ngxService.stop(),n.meta.status){let i=JSON.parse(JSON.stringify(n.data));this.ongoingOrders=i}},n=>{this.ngxService.stop()})}getShipmentList(){this.ngxService.start(),this._DS.getShipmentList().subscribe(n=>{this.ngxService.stop(),n.meta.status&&(this.shipmentsOrders=n.data)},n=>{this.ngxService.stop()})}mouseEnter(n,i,r,s,c){$(`#infodrop2${i}${r}`).show(),setTimeout(()=>{var l=document.getElementById(`myChart${i}${r}`).getContext("2d");new Chart(l,{type:"pie",data:{labels:[`Shipment ${c} ${s.dispatchQuantity}`,`To be Shipped ${s.remainingQuantity}`],datasets:[{backgroundColor:["#3E916C","#F6F6F6"],data:[s.dispatchQuantity,s.remainingQuantity]}]},options:{legend:{position:"bottom"}}})},100)}mouseLeave(n,i,r){$(`#infodrop2${i}${r}`).hide()}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(T.K),t.Y36(Z),t.Y36(u.LA))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:22,vars:10,consts:[[1,"dashboardMain","text-center"],[1,"row","mb-3"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[1,"dashboardTitleBox","blueBg"],[1,"userWhiteBox"],[4,"ngIf"],["style","text-align: center; padding: 50px;",4,"ngIf"],[1,"dashboardTitleBox","darkgreenBg"],[1,"dashboardTitleBox","lighteGreenSemiBg"],["fgsColor","#3E916C",3,"hasProgressBar"],["class","media-dashboard",4,"ngFor","ngForOf"],[1,"media-dashboard"],[1,"pendingBox"],[1,"d-flex","justify-content-between"],[1,"fw600","text-primary","text-underline"],["href","javascript:void(0)",3,"routerLink"],["class","btn btn-sm radius-none","href","javascript:void(0)",3,"ngClass",4,"ngIf"],[1,"fw400"],["class","greyBox2",4,"ngIf"],[1,"groups-btns","btnDashboard1"],["href","javascript:void(0)",1,"btn","btn-success",3,"routerLink"],["href","javascript:void(0)",1,"btn","btn-sm","radius-none",3,"ngClass"],[1,"greyBox2"],["class","d-flex justify-content-between",4,"ngIf"],[1,"fw600"],["href","javascript:void(0)",1,"text-primary","text-underline",3,"routerLink"],[2,"text-align","center","padding","50px"],[1,"pendingBox",3,"routerLink"],["href","javascript:void(0)"],["href","javascript:void(0)",1,"btn","btn-primary","btn-sm","radius-none"],[4,"ngFor","ngForOf"],["class","greyBox2 mb-2",4,"ngIf"],[1,"greyBox2","mb-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"alert-warning","alert-warning-small","text-center"],[1,"bg-success","text-white"],["class","greyBox2 mb-2",4,"ngFor","ngForOf"],["href","javascript:void(0)","class","btn btn-success",3,"routerLink",4,"ngIf"],[1,"bi","bi-info","inventoryBadgeWhite","ms-2","mt-1",3,"mouseenter","mouseleave"],[1,"infodrop2",2,"display","none",3,"id"],[1,"text-center"],[3,"id"]],template:function(i,r){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),t._uU(5),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,q,2,1,"ng-container",5),t.YNc(8,J,2,0,"div",6),t.qZA()(),t.TgZ(9,"div",2)(10,"h1",7),t._uU(11),t.qZA(),t.TgZ(12,"div",4),t.YNc(13,G,2,1,"ng-container",5),t.YNc(14,V,2,0,"div",6),t.qZA()(),t.TgZ(15,"div",2)(16,"h1",8),t._uU(17),t.qZA(),t.TgZ(18,"div",4),t.YNc(19,H,2,1,"ng-container",5),t.YNc(20,W,2,0,"div",6),t.qZA()()()()(),t._UZ(21,"ngx-ui-loader",9)),2&i&&(t.xp6(5),t.hij("Pending Orders (",r.pendingOrders.length,")"),t.xp6(2),t.Q6J("ngIf",r.pendingOrders.length),t.xp6(1),t.Q6J("ngIf",!r.pendingOrders.length),t.xp6(3),t.hij("Ongoing Orders (",r.ongoingOrders.length,")"),t.xp6(2),t.Q6J("ngIf",r.ongoingOrders.length),t.xp6(1),t.Q6J("ngIf",!r.ongoingOrders.length),t.xp6(3),t.hij("Shipments (",r.shipmentsOrders.length,")"),t.xp6(2),t.Q6J("ngIf",r.shipmentsOrders.length),t.xp6(1),t.Q6J("ngIf",!r.shipmentsOrders.length),t.xp6(1),t.Q6J("hasProgressBar",!1))},dependencies:[_.mk,_.sg,_.O5,p.rH,u.Eo,_.uU]})}return e})()}];let tt=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(X),p.Bz]})}return e})(),nt=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[_.ez,tt,u.Js]})}return e})()}}]);