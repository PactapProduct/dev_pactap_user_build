"use strict";(self.webpackChunkpactap_frontend=self.webpackChunkpactap_frontend||[]).push([[422],{98422:(We,f,u)=>{u.r(f),u.d(f,{OrderSummaryModule:()=>Le});var g=u(96814),m=u(72253),C=u(15861),e=u(99468),_=u(92858),T=u(1665),A=u(45824),Z=u(29917),d=u(56223);function b(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",72),e._UZ(3,"img",73),e.TgZ(4,"div")(5,"h5"),e._uU(6),e.qZA(),e._uU(7),e._UZ(8,"br"),e._uU(9),e.qZA()()(),e.TgZ(10,"td")(11,"span",74),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span",74),e._uU(15),e.qZA()(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA()()),2&r){const t=n.$implicit,a=e.oxw();e.xp6(3),e.s9C("alt",null==t.products?null:t.products.productName),e.Q6J("src",(null==t||null==t.customerProducts?null:t.customerProducts.productImages[0])||(null==t||null==t.products?null:t.products.productImg[0]),e.LSH),e.xp6(3),e.Oqu(null==t.products?null:t.products.category.categoryName),e.xp6(1),e.hij(" #",null==t.customerProducts?null:t.customerProducts.customerProductId,""),e.xp6(2),e.hij(" ",null==t.products?null:t.products.productName," "),e.xp6(3),e.Oqu(t.quantity),e.xp6(3),e.Oqu(t.actualQuantity),e.xp6(2),e.Oqu(t.ppsQuantity),e.xp6(2),e.AsE("",a.prevData.selectedCurrency," ",null==t?null:t.pricePerPiece,""),e.xp6(2),e.AsE("",a.prevData.selectedCurrency," ",null==t?null:t.totalPrice," ")}}function q(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"Trucking"),e.qZA())}function U(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(null==t.prevData?null:t.prevData.shipmentMode)}}function D(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," Subjected to realisation (if applicable)"),e.qZA())}function P(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij("",t.prevData.selectedCurrency," 0 ")}}function x(r,n){1&r&&(e.TgZ(0,"p",35),e._uU(1,"On Actual"),e.qZA())}function y(r,n){1&r&&(e.TgZ(0,"p",35),e._uU(1," 0 "),e.qZA())}function S(r,n){1&r&&(e.TgZ(0,"p",35),e._uU(1,"On Actual"),e.qZA())}function O(r,n){1&r&&(e.TgZ(0,"p",35),e._uU(1," 0 "),e.qZA())}function F(r,n){if(1&r&&(e.TgZ(0,"div",75)(1,"div",76)(2,"p",77),e._uU(3,"Freight Charges"),e.qZA(),e.TgZ(4,"span",78),e._uU(5," Inclusive of GST:12%"),e.qZA()(),e.TgZ(6,"p",50),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.routeCost,"")}}function N(r,n){if(1&r&&(e.TgZ(0,"div",75)(1,"div",76)(2,"p",77),e._uU(3,"Origin Handling Charges"),e.qZA(),e.TgZ(4,"span",78),e._uU(5," Inclusive of GST:12%"),e.qZA()(),e.TgZ(6,"p",50),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.originHandlinCharges,"")}}function I(r,n){if(1&r&&(e.TgZ(0,"div",75)(1,"div",76)(2,"p",77),e._uU(3,"Ocean Freight Charges"),e.qZA(),e.TgZ(4,"span",78),e._uU(5," Inclusive of GST:5% "),e.qZA()(),e.TgZ(6,"p",50),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.oceanHandlinCharges,"")}}function w(r,n){if(1&r&&(e.TgZ(0,"div",75)(1,"div",76)(2,"p",77),e._uU(3,"Destination Handling Charges"),e.qZA(),e.TgZ(4,"span",78),e._uU(5," Inclusive of GST:18%"),e.qZA()(),e.TgZ(6,"p",50),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.destinantionHandlingCharges,"")}}function Q(r,n){if(1&r&&(e.TgZ(0,"select",66)(1,"option"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(null==t.prevData?null:t.prevData.shippingAddress)}}function H(r,n){if(1&r&&(e.TgZ(0,"option",80),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.HOy(" ",t.name,", ",t.addressLine1,", ",t.addressLine2,", ",t.cityName," ")}}function J(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"select",79),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.prevData.shippingAddress=i)}),e.TgZ(1,"option",62),e._uU(2,"Select"),e.qZA(),e.YNc(3,H,2,5,"option",63),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.prevData.shippingAddress),e.xp6(3),e.Q6J("ngForOf",t.shippingAddresses)}}function k(r,n){if(1&r&&(e.TgZ(0,"option",80),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.HOy(" ",t.name,", ",t.addressLine1,", ",t.addressLine2,", ",t.cityName," ")}}function M(r,n){1&r&&(e.TgZ(0,"div",81)(1,"div"),e._uU(2,"Billing Address is required."),e.qZA()())}const Y=function(){return["/comparison-matrix"]};let j=(()=>{class r{constructor(t,a,i,l,o,p){this.routes=t,this._OS=a,this.router=i,this._PS=l,this._notifier=o,this.ngxService=p,this.cartProducts=[],this.addresses=[],this.shippingAddresses=[],this.billingAddressId="",this.submitted=!1,this.quotes=[],this.vendorId="",this.totalCBM=0,this.totalGrossWeight=0,this.totalProductionTime=0,this.totalCost=0,this.freightTime=0,this.palletCost=0,this.routeCost=0,this.originHandlinCharges=0,this.oceanHandlinCharges=0,this.destinantionHandlingCharges=0,this.totalProductPrice=0,this.prePurchaseSampleTotalPrice=0}ngOnInit(){this.routes.params.subscribe(t=>{t&&t.vendorId&&t.queryData&&(this.vendorId=t.vendorId,this.prevData=JSON.parse(atob(t.queryData)),this.freightTime=this.prevData.freightTime,this.palletCost=this.prevData.palletCost,this.NewTotalOnetimeCost=this.prevData.NewTotalOnetimeCost,this.routeCost=this.prevData.routeCost,this.originHandlinCharges=this.prevData.originHandlinCharges,this.destinantionHandlingCharges=this.prevData.destinantionHandlingCharges,this.oceanHandlinCharges=this.prevData.oceanHandlinCharges,this.getData())})}getData(){this.ngxService.start(),this._PS.getData(this.vendorId).subscribe({next:t=>{this.ngxService.stop(),t.cartData.meta.status?(this.cartProducts=t.cartData.data.cart,this.cartProducts.map(a=>{a.pricePerPiece=0,a.totalPrice=0,a.productionleadTime=0,a.totalCbm=0,a.totalWeight=0,a.totalOneTimeCost=0,a.prePurchaseSampleTotalPrice=0})):(this.cartProducts=[],this._notifier.showWarning(t.cartData.meta.msg,"")),t.quoteData.meta.status?(this.quotes=t.quoteData.data,this.getCartQuoteByVendorId()):(this.quotes=[],this._notifier.showWarning(t.quoteData.meta.msg,"")),this.ngxService.stop()},error:t=>{this.ngxService.stop(),this._notifier.showError("Something went wrong","Error")}})}getCartQuoteByVendorId(){var t=this;return(0,C.Z)(function*(){t.ngxService.start(),t.addresses=t.quotes[0].userAddresses.filter(a=>"BILLING"===a.addressType),t.shippingAddresses=t.quotes[0].userAddresses.filter(a=>"SHIPPING"===a.addressType),t.quotes.map(a=>{let i=t.cartProducts.findIndex(l=>l.customerProductId===a.customerProductId);if(i>=0){let l=Number((t.cartProducts[i].actualQuantity/a.casePack).toFixed());t.cartProducts[i].totalCbm=(Number(a.dimension.length||0)*Number(a.dimension.breadth||0)*Number(a.dimension.height||0)*16387064e-12*l).toFixed(3),t.cartProducts[i].totalWeight=l*a.grossWeight,t.cartProducts[i].totalOneTimeCost=Number(a.totalOneTimeCost),t.cartProducts[i].prePurchaseSampleTotalPrice=t.cartProducts[i].ppsQuantity?Number(a.prePurchaseSampleTotalPrice):0;let o=a.userQuotation.findIndex(p=>t.cartProducts[i].quantity===p.quantity);o>=0&&(t.cartProducts[i].pricePerPiece=Number(a.userQuotation[o].pricePerPiece.toFixed(3)),t.cartProducts[i].totalPrice=Number((t.cartProducts[i].pricePerPiece*t.cartProducts[i].actualQuantity).toFixed(3)),t.cartProducts[i].productionleadTime=a.userQuotation[o].productionleadTime)}}),t.totalCBM=0,t.totalGrossWeight=0,t.totalProductionTime=0,t.totalCost=0,t.cartProducts.map((a,i,l)=>{t.totalCBM=Number((t.totalCBM+Number(a.totalCbm)).toFixed(3)),t.totalGrossWeight=Number((t.totalGrossWeight+Number(a.totalWeight)).toFixed(3)),t.prePurchaseSampleTotalPrice+=a.prePurchaseSampleTotalPrice,t.totalProductPrice+=+Number(a.totalPrice).toFixed(3),t.totalCost=Number((t.totalCost+Number(a.totalPrice)).toFixed(3))+(isNaN(a.totalOneTimeCost)?0:a.totalOneTimeCost)+a.prePurchaseSampleTotalPrice;const o=l.reduce((p,h)=>Number(p.productionleadTime)>Number(h.productionleadTime)?p:h);t.totalProductionTime=o.productionleadTime}),t.totalCost=t.totalCost+t.routeCost+t.palletCost})()}redirectTo(){if(this.billingAddressId){this.prevData={...this.prevData,billingAddressId:this.billingAddressId};const t=JSON.stringify(this.prevData),a=btoa(t);this.router.navigate(["order-summary/step1",this.vendorId,a])}else this.submitted=!0}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(m.gz),e.Y36(_.p),e.Y36(m.F0),e.Y36(T.s),e.Y36(A.l),e.Y36(Z.LA))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-summary"]],decls:227,vars:42,consts:[[1,"dashboardMain"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"page-header","back-page","border-0","mb-2"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"text-success","ms-5"],[1,"bg-white","white-well"],[1,"row","align-items-center","justify-content-between"],[1,"col-6","col-sm-6","col-md-2","col-lg-2"],[1,""],[1,"text-success","fw-bold"],[1,"table-card"],[1,"table-reponsive","fix-headertbl","vh-auto"],[1,"table"],[1,"table-info"],["scope","col"],["scope","col",1,"text-start"],[4,"ngFor","ngForOf"],[1,"summery-sec-header"],[1,"d-flex","justify-content-end","list-inline","mb-0"],[1,"subtotal"],[1,"tax-details-div"],[1,"col-md-6","col-12"],[1,"row","justify-content-start","gap-3"],[1,"col-sm-12","col-12"],[1,"bg-white","p-3","text-12","rounded"],[1,"detail-heading"],[1,"fw-bold","px-3","m-0","text-success","cartData"],[1,"box-data","px-1","pt-1"],[1,"box-item","mb-1","text-dark","d-flex","justify-content-between"],[1,"px-3","rounded","text-white","bg-success"],[4,"ngIf"],[1,"border-dashed","pt-2"],[1,"box-data"],[1,"box-item","m-0","text-dark","d-flex","justify-content-between"],[1,"col-md-6","col-12","left-dashed-border"],[1,"row","justify-content-end","gap-3"],[1,"col-12"],[1,"detail-box"],[1,"border-bottom","border-success"],[1,"m-0","fw-bold","text-white","bg-success","cartData"],[1,"box-data","px-3","pt-2"],[1,"d-flex","justify-content-between"],[1,"box-item","text-dark","fw-semibold","fw500"],["class","box-data",4,"ngIf"],["class","d-flex justify-content-between mb-2",4,"ngIf"],[1,"border-dashed","text-white"],[1,"d-flex","justify-content-between","px-3","pt-1"],[1,"box-data","text-dark"],[1,"summery-sec-header","mt-3"],[1,"cart"],[1,"summery-sec"],[1,"form-box","form-filter"],[1,"col-12","col-sm-6","col-md-4"],[1,"title"],[1,"fw500"],[1,"form-group"],["class","form-control form-ctrl","disabled","",4,"ngIf"],["class","form-control form-ctrl","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["name","adress",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12"],["disabled","",1,"form-control","form-ctrl"],[1,"row","justify-content-end"],[1,"col-6","col-sm-3","col-md-3","col-lg-2","col-xl-2"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-block","btn-outline-success",3,"routerLink"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-block","btn-success",3,"click"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"pro-img-table","d-flex"],[1,"rounded","me-3",3,"src","alt"],[1,"qty-btn-outline"],[1,"d-flex","justify-content-between","mb-2"],[1,"box-item","text-dark"],[1,"text-dark","fw500","m-0"],[1,"ms-3"],["disabled","",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],[3,"value"],[1,"invalid-feedback",2,"display","block"]],template:function(a,i){1&a&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3",4)(6,"a",5),e._UZ(7,"img",6),e.qZA(),e._uU(8," Order Summary"),e.qZA(),e.TgZ(9,"h5",7),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"p",12),e._uU(16," 1. Products "),e.qZA()()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"table",15)(20,"thead")(21,"tr",16)(22,"th",17),e._uU(23,"Product Details"),e.qZA(),e.TgZ(24,"th",18),e._uU(25,"Quantity"),e.qZA(),e.TgZ(26,"th",18),e._uU(27,"Actual Quantity"),e.qZA(),e.TgZ(28,"th",17),e._uU(29,"PPS Quantity"),e.qZA(),e.TgZ(30,"th",17),e._uU(31,"Price Per Piece"),e.qZA(),e.TgZ(32,"th",17),e._uU(33,"Total Price "),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,b,22,12,"tr",19),e.qZA()(),e.TgZ(36,"div",20)(37,"ul",21)(38,"li",22),e._uU(39),e.qZA()()()()()(),e.TgZ(40,"div",23)(41,"div",1)(42,"div",24)(43,"div",11)(44,"div",25)(45,"div",26)(46,"div",27)(47,"div",28)(48,"div",11)(49,"p",29),e._uU(50,"2. Logistics Details "),e.qZA()(),e.TgZ(51,"div",30)(52,"ul",11)(53,"li",31)(54,"span"),e._uU(55," Gross Weight:"),e.qZA(),e.TgZ(56,"span"),e._uU(57),e.qZA()(),e.TgZ(58,"li",31)(59,"span"),e._uU(60,"Total CBM: "),e.qZA(),e.TgZ(61,"span"),e._uU(62),e.qZA()(),e.TgZ(63,"li",31)(64,"span"),e._uU(65," Delivery Lead Time: "),e.qZA(),e.TgZ(66,"span"),e._uU(67),e.qZA()(),e.TgZ(68,"li",31)(69,"span"),e._uU(70," Shipment Term "),e.qZA(),e.TgZ(71,"span",32),e._uU(72),e.qZA()(),e.TgZ(73,"li",31)(74,"span"),e._uU(75," Shipment Mode "),e.qZA(),e.YNc(76,q,2,0,"span",33),e.YNc(77,U,2,1,"span",33),e.qZA()(),e.TgZ(78,"div",34)(79,"p",29),e._uU(80,"3. Productions Details "),e.qZA()(),e.TgZ(81,"div",35)(82,"ul")(83,"li",36)(84,"span"),e._uU(85," Production Lead Time "),e.qZA(),e.TgZ(86,"span"),e._uU(87),e.qZA()()()(),e.TgZ(88,"div",34)(89,"p",29),e._uU(90,"4. Palletization "),e.qZA()(),e.TgZ(91,"div",35)(92,"ul")(93,"li",36)(94,"span"),e._uU(95,"Palletization Cost "),e.qZA(),e.TgZ(96,"span"),e._uU(97),e.qZA()()()(),e.TgZ(98,"div",34)(99,"p",29),e._uU(100,"5. One Time Charges (OTC) "),e.qZA()(),e.TgZ(101,"div",35)(102,"ul")(103,"li",36)(104,"span"),e._uU(105,"Total OTC Charges"),e.qZA(),e.TgZ(106,"span"),e._uU(107),e.qZA()()()(),e.TgZ(108,"div",34)(109,"p",29),e._uU(110,"6. Pre Product Sample (PPS) "),e.qZA()(),e.TgZ(111,"ul")(112,"li",36)(113,"span"),e._uU(114,"Total PPS Charges"),e.qZA(),e.TgZ(115,"span"),e._uU(116),e.qZA()()(),e.TgZ(117,"div",34)(118,"p",29),e._uU(119,"7. Other Charges "),e.qZA()(),e.TgZ(120,"ul")(121,"li",36)(122,"span"),e._uU(123,"Total Other Charges"),e.qZA(),e.YNc(124,D,2,0,"span",33),e.YNc(125,P,2,1,"span",33),e.qZA()()()()()()()()(),e.TgZ(126,"div",37)(127,"div",38)(128,"div",39)(129,"div",40)(130,"div",28)(131,"div",41)(132,"h6",42),e._uU(133),e.qZA()(),e.TgZ(134,"div",43)(135,"div",44)(136,"p",45),e._uU(137,"Total Taxes"),e.qZA(),e.YNc(138,x,2,0,"p",46),e.YNc(139,y,2,0,"p",46),e.qZA(),e.TgZ(140,"div",44)(141,"p",45),e._uU(142,"Total Duties"),e.qZA(),e.YNc(143,S,2,0,"p",46),e.YNc(144,O,2,0,"p",46),e.qZA()()()()(),e.TgZ(145,"div",39)(146,"div",40)(147,"div",28)(148,"div",41)(149,"h6",42),e._uU(150,"9. Logistics Cost "),e.qZA()(),e.TgZ(151,"div",43),e.YNc(152,F,8,2,"div",47),e.YNc(153,N,8,2,"div",47),e.YNc(154,I,8,2,"div",47),e.YNc(155,w,8,2,"div",47),e.qZA(),e.TgZ(156,"div",48)(157,"div",49)(158,"p",45),e._uU(159,"Total Logistics Cost"),e.qZA(),e.TgZ(160,"p",50),e._uU(161),e.qZA()()()()()()()()()(),e.TgZ(162,"div",51)(163,"ul",21)(164,"li",52),e._uU(165),e.qZA()()(),e.TgZ(166,"div",53)(167,"div",8)(168,"div",54)(169,"div",1)(170,"div",55)(171,"div",56)(172,"h4",57),e._uU(173,"Shipping Address"),e.qZA()(),e.TgZ(174,"div",58)(175,"label"),e._uU(176,"Address"),e.qZA(),e.YNc(177,Q,3,1,"select",59),e.YNc(178,J,4,2,"select",60),e.qZA()(),e.TgZ(179,"div",55)(180,"div",56)(181,"h4",57),e._uU(182,"Billing Address"),e.qZA()(),e.TgZ(183,"div",58)(184,"label"),e._uU(185,"Address"),e.qZA(),e.TgZ(186,"select",61),e.NdJ("ngModelChange",function(o){return i.billingAddressId=o}),e.TgZ(187,"option",62),e._uU(188,"Select Address"),e.qZA(),e.YNc(189,k,2,5,"option",63),e.qZA(),e.YNc(190,M,3,0,"div",64),e.qZA()()(),e.TgZ(191,"div",1)(192,"div",65)(193,"div",56)(194,"h4",57),e._uU(195,"Shipping Details"),e.qZA()(),e.TgZ(196,"div",1)(197,"div",55)(198,"div",58)(199,"label"),e._uU(200,"Shipment Mode"),e.qZA(),e.TgZ(201,"select",66)(202,"option"),e._uU(203),e.qZA()()()(),e.TgZ(204,"div",55)(205,"div",58)(206,"label"),e._uU(207,"Shipping Terms"),e.qZA(),e.TgZ(208,"select",66)(209,"option"),e._uU(210),e.qZA()()()(),e.TgZ(211,"div",55)(212,"div",58)(213,"label"),e._uU(214,"Palletization Required"),e.qZA(),e.TgZ(215,"select",66)(216,"option"),e._uU(217),e.qZA()()()()()()()()(),e.TgZ(218,"div",54)(219,"div",67)(220,"div",68)(221,"a",69),e._uU(222,"Edit Details"),e.qZA()(),e.TgZ(223,"div",68)(224,"a",70),e.NdJ("click",function(){return i.redirectTo()}),e._uU(225,"Next"),e.qZA()()()()()()(),e._UZ(226,"ngx-ui-loader",71)),2&a&&(e.xp6(10),e.hij("Vendor ID: ",null==i.prevData?null:i.prevData.vendorId,""),e.xp6(25),e.Q6J("ngForOf",i.cartProducts),e.xp6(4),e.AsE("Total Product Cost : ",i.prevData.selectedCurrency," ",i.totalProductPrice," "),e.xp6(18),e.hij("",i.totalGrossWeight," kg"),e.xp6(5),e.hij(" ",i.totalCBM,""),e.xp6(5),e.hij(" ",i.freightTime," Days"),e.xp6(5),e.hij(" ",null==i.prevData?null:i.prevData.shippingTerms," "),e.xp6(4),e.Q6J("ngIf","Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(10),e.hij(" ",i.totalProductionTime," Days "),e.xp6(10),e.AsE(" ",i.prevData.selectedCurrency," ",i.palletCost," "),e.xp6(10),e.AsE(" ",i.prevData.selectedCurrency," ",i.NewTotalOnetimeCost,""),e.xp6(9),e.AsE(" ",i.prevData.selectedCurrency," ",i.prePurchaseSampleTotalPrice,""),e.xp6(8),e.Q6J("ngIf","FOB"==(null==i.prevData?null:i.prevData.shippingTerms)||"CIF"==(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(8),e.hij("8. Taxes & Duties - ",i.prevData.selectedCurrency," "),e.xp6(5),e.Q6J("ngIf","CIF"==(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","FOB"==(null==i.prevData?null:i.prevData.shippingTerms)||"Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(4),e.Q6J("ngIf","CIF"==(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","FOB"==(null==i.prevData?null:i.prevData.shippingTerms)||"Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(8),e.Q6J("ngIf","Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(6),e.AsE("",i.prevData.selectedCurrency," ",i.routeCost,""),e.xp6(4),e.hij("Net Product Price: ",i.totalCost," "),e.xp6(12),e.Q6J("ngIf","FOB"===(null==i.prevData?null:i.prevData.shippingTerms)||"CIF"===(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","DDU"===(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"===(null==i.prevData?null:i.prevData.shippingTerms)||"Delivered"===(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(8),e.Q6J("ngModel",i.billingAddressId),e.xp6(3),e.Q6J("ngForOf",i.addresses),e.xp6(1),e.Q6J("ngIf",i.submitted&&!i.billingAddressId),e.xp6(13),e.Oqu(null==i.prevData?null:i.prevData.shipmentMode),e.xp6(7),e.Oqu(null==i.prevData?null:i.prevData.shippingTerms),e.xp6(7),e.Oqu(null!=i.prevData&&i.prevData.isPalletizationRequired?"Yes":"No"),e.xp6(4),e.Q6J("routerLink",e.DdM(41,Y)),e.xp6(5),e.Q6J("hasProgressBar",!1))},dependencies:[g.sg,g.O5,m.rH,d.YN,d.Kr,d.EJ,d.JJ,d.On,Z.Eo]})}return r})();var B=u(64716),s=u(20553),L=u(96155);function W(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",115),e._UZ(3,"img",116),e.TgZ(4,"div")(5,"h5"),e._uU(6),e.qZA(),e._uU(7),e._UZ(8,"br"),e._uU(9),e.qZA()()(),e.TgZ(10,"td")(11,"span",117),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span",117),e._uU(15),e.qZA()(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA()()),2&r){const t=n.$implicit,a=e.oxw();e.xp6(3),e.s9C("alt",null==t.products?null:t.products.productName),e.Q6J("src",(null==t||null==t.customerProducts?null:t.customerProducts.productImages[0])||(null==t||null==t.products?null:t.products.productImg[0]),e.LSH),e.xp6(3),e.Oqu(null==t.products?null:t.products.category.categoryName),e.xp6(1),e.hij(" #",null==t.customerProducts?null:t.customerProducts.customerProductId,""),e.xp6(2),e.hij(" ",null==t.products?null:t.products.productName," "),e.xp6(3),e.Oqu(t.quantity),e.xp6(3),e.Oqu(t.actualQuantity),e.xp6(2),e.Oqu(t.ppsQuantity),e.xp6(2),e.AsE("",a.prevData.selectedCurrency," ",null==t?null:t.pricePerPiece,""),e.xp6(2),e.AsE("",a.prevData.selectedCurrency," ",null==t?null:t.totalPrice," ")}}function E(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"Trucking"),e.qZA())}function G(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(null==t.prevData?null:t.prevData.shipmentMode)}}function z(r,n){1&r&&(e.ynx(0),e._uU(1," 1 x 20 FT "),e.BQk())}function V(r,n){1&r&&(e.ynx(0),e._uU(1," \xa0and 1 x 20 FT "),e.BQk())}function R(r,n){if(1&r&&(e.ynx(0)(1),e._uU(2),e.YNc(3,V,2,0,"ng-container",34),e.BQk()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.totalHcContainer," x 40 FT HC "),e.xp6(1),e.Q6J("ngIf",t.remainingContainerHc>=1)}}function K(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.totalFtContainer," x 20 FT ")}}function X(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," Subjected to realisation (if applicable)"),e.qZA())}function ee(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij("",t.prevData.selectedCurrency," 0 ")}}function te(r,n){1&r&&(e.TgZ(0,"p",36),e._uU(1,"On Actual"),e.qZA())}function ie(r,n){1&r&&(e.TgZ(0,"p",36),e._uU(1," 0 "),e.qZA())}function re(r,n){1&r&&(e.TgZ(0,"p",36),e._uU(1,"On Actual"),e.qZA())}function ae(r,n){1&r&&(e.TgZ(0,"p",36),e._uU(1," 0 "),e.qZA())}function ne(r,n){if(1&r&&(e.TgZ(0,"div",118)(1,"div",119)(2,"p",120),e._uU(3,"Freight Charges"),e.qZA(),e.TgZ(4,"span",121),e._uU(5," Inclusive of GST: 12%"),e.qZA()(),e.TgZ(6,"p",51),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.routeCost,"")}}function oe(r,n){if(1&r&&(e.TgZ(0,"div",118)(1,"div",119)(2,"p",120),e._uU(3,"Origin Handling Charges"),e.qZA(),e.TgZ(4,"span",121),e._uU(5," Inclusive of GST:12%"),e.qZA()(),e.TgZ(6,"p",51),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.originHandlinCharges,"")}}function le(r,n){if(1&r&&(e.TgZ(0,"div",118)(1,"div",119)(2,"p",120),e._uU(3,"Ocean Freight Charges"),e.qZA(),e.TgZ(4,"span",121),e._uU(5," Inclusive of GST:5% "),e.qZA()(),e.TgZ(6,"p",51),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.oceanHandlinCharges,"")}}function se(r,n){if(1&r&&(e.TgZ(0,"div",118)(1,"div",119)(2,"p",120),e._uU(3,"Destination Handling Charges"),e.qZA(),e.TgZ(4,"span",121),e._uU(5," Inclusive of GST:18%"),e.qZA()(),e.TgZ(6,"p",51),e._uU(7),e.qZA()()),2&r){const t=e.oxw();e.xp6(7),e.AsE("",t.prevData.selectedCurrency," ",t.destinantionHandlingCharges,"")}}function de(r,n){if(1&r&&(e.TgZ(0,"select",66)(1,"option"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(null==t.prevData?null:t.prevData.shippingAddress)}}function ue(r,n){if(1&r&&(e.TgZ(0,"option",123),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.HOy(" ",t.name,", ",t.addressLine1,", ",t.addressLine2,", ",t.cityName," ")}}function pe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"select",122),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.prevData.shippingAddress=i)}),e.TgZ(1,"option",63),e._uU(2,"Select"),e.qZA(),e.YNc(3,ue,2,5,"option",64),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.prevData.shippingAddress),e.xp6(3),e.Q6J("ngForOf",t.shippingAddresses)}}function ce(r,n){if(1&r&&(e.TgZ(0,"option",123),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.s9C("value",t._id),e.xp6(1),e.HOy(" ",t.name,", ",t.addressLine1,", ",t.addressLine2,", ",t.cityName," ")}}function me(r,n){1&r&&e._UZ(0,"i",126)}function ge(r,n){if(1&r&&(e.TgZ(0,"div",124),e.YNc(1,me,1,0,"i",125),e._uU(2," Upload "),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading)}}function he(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Box Art work is required. "),e.qZA())}function Ze(r,n){if(1&r&&(e.TgZ(0,"div",127),e.YNc(1,he,2,0,"div",34),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.orderFormControls.boxArtWorkFile.errors.required)}}function ve(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",128),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelFile("boxArtWorkFile","boxArtWor"))}),e._UZ(1,"i",129),e.qZA()}}function fe(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Label is required. "),e.qZA())}function _e(r,n){if(1&r&&(e.TgZ(0,"div",127),e.YNc(1,fe,2,0,"div",34),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.orderFormControls.label.errors.required)}}function Te(r,n){1&r&&e._UZ(0,"i",126)}function Ae(r,n){if(1&r&&(e.TgZ(0,"div",124),e.YNc(1,Te,1,0,"i",125),e._uU(2," Upload "),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoadingArt)}}function Ce(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Art work is required. "),e.qZA())}function be(r,n){if(1&r&&(e.TgZ(0,"div",127),e.YNc(1,Ce,2,0,"div",34),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.orderFormControls.artWorkFile.errors.required)}}function qe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",128),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelFile("artWorkFile","artWork"))}),e._UZ(1,"i",129),e.qZA()}}function Ue(r,n){1&r&&e._UZ(0,"i",126)}function De(r,n){if(1&r&&(e.TgZ(0,"div",124),e.YNc(1,Ue,1,0,"i",125),e._uU(2," Upload "),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoadingAdditional)}}function Pe(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Additional Document is required. "),e.qZA())}function xe(r,n){if(1&r&&(e.TgZ(0,"div",127),e.YNc(1,Pe,2,0,"div",34),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.orderFormControls.additionalDocumentFile.errors.required)}}function ye(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",128),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelFile("additionalDocumentFile","additionalDoc"))}),e._UZ(1,"i",129),e.qZA()}}function Se(r,n){1&r&&e._UZ(0,"i",126)}function Oe(r,n){if(1&r&&(e.TgZ(0,"div",124),e.YNc(1,Se,1,0,"i",125),e._uU(2," Upload "),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoadingPo)}}function Fe(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Purchase Order File is required. "),e.qZA())}function Ne(r,n){if(1&r&&(e.TgZ(0,"div",127),e.YNc(1,Fe,2,0,"div",34),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.orderFormControls.purchaseOrderFile.errors.required)}}function Ie(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",128),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelFile("purchaseOrderFile","POInvo"))}),e._UZ(1,"i",129),e.qZA()}}function we(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Purchase Order Number is required. "),e.qZA())}function Qe(r,n){if(1&r&&(e.TgZ(0,"div",127),e.YNc(1,we,2,0,"div",34),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.orderFormControls.purchaseOrderNumber.errors.required)}}function He(r,n){1&r&&(e.ynx(0),e._uU(1," 1 x 20 FT "),e.BQk())}function Je(r,n){1&r&&(e.ynx(0),e._uU(1," \xa0and 1 x 20 FT "),e.BQk())}function ke(r,n){if(1&r&&(e.ynx(0)(1),e._uU(2),e.YNc(3,Je,2,0,"ng-container",34),e.BQk()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.totalHcContainer," x 40 FT HC "),e.xp6(1),e.Q6J("ngIf",t.remainingContainerHc>=1)}}function Me(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.totalFtContainer," x 20 FT ")}}const Ye=function(r){return{"fa-spin fa-spinner":r}},je=[{path:":vendorId/:queryData",component:j},{path:"step1/:vendorId/:queryData",component:(()=>{class r{constructor(t,a,i,l,o,p,h,v){this._OS=t,this.routes=a,this.router=i,this._PS=l,this._notifier=o,this._FB=p,this.ngxService=h,this._US=v,this.cartProducts=[],this.addresses=[],this.shippingAddresses=[],this.billingAddressId="",this.submitted=!1,this.isLoading=!1,this.isLoadingArt=!1,this.isLoadingPo=!1,this.isLoadingAdditional=!1,this.isLoadingOrder=!1,this.quotes=[],this.vendorId="",this.totalCBM=0,this.totalGrossWeight=0,this.totalProductionTime=0,this.totalCost=0,this.palletDimensionHorizontal40Hc={l:40,b:48,h:43.5},this.palletDimensionVertical40Hc={l:48,b:40,h:43.5},this.palletDimensionHorizontal40Ft={l:40,b:48,h:37.5},this.palletDimensionVertical40Ft={l:48,b:40,h:37.5},this.totalPalletHc=0,this.totalPalletFt=0,this.totalHcContainer=0,this.totalFtContainer=0,this.remainingContainer={"40 FT HC":1,"20 FT":1},this.remainingContainerHc=0,this.remainingContainerFt=0,this.freightTime=0,this.palletCost=0,this.routeCost=0,this.originHandlinCharges=0,this.oceanHandlinCharges=0,this.destinantionHandlingCharges=0,this.totalProductPrice=0,this.prePurchaseSampleTotalPrice=0}ngOnInit(){this.routes.params.subscribe(t=>{t&&t.vendorId&&t.queryData&&(this.vendorId=t.vendorId,this.prevData=JSON.parse(atob(t.queryData)),this.billingAddressId=this.prevData.billingAddressId,this.freightTime=this.prevData.freightTime,this.palletCost=this.prevData.palletCost,this.routeCost=this.prevData.routeCost,this.NewTotalOnetimeCost=this.prevData.NewTotalOnetimeCost,this.originHandlinCharges=this.prevData.originHandlinCharges,this.destinantionHandlingCharges=this.prevData.destinantionHandlingCharges,this.oceanHandlinCharges=this.prevData.oceanHandlinCharges,this.getData())}),this.initForm()}initForm(){this.orderForm=this._FB.group({boxArtWorkFile:[""],label:[""],artWorkFile:[""],additionalDocumentFile:[""],purchaseOrderFile:["",d.kI.required],purchaseOrderNumber:["",d.kI.required]})}get orderFormControls(){return this.orderForm.controls}uploadArtwork(t,a){var i=t.target.files[0],o=t.target.value.split(".").pop();"purchaseOrderFile"===a?"pdf"==o||"jpg"==o||"svg"==o||"jpeg"==o||"png"==o?i&&this.uploadDoc(a,i):alert("File not supported. Kindly Upload the file of given (.pdf, .jpg, .svg, .jpeg and .png ) extension "):"additionalDocumentFile"===a||"ai"==o||"cdr"==o||"pdf"==o||"jpg"==o||"svg"==o||"jpeg"==o||"png"==o?i&&this.uploadDoc(a,i):alert("File not supported. Kindly Upload the file of given (.ai, .cdr) extension ")}uploadDoc(t,a){"purchaseOrderFile"===t?this.isLoadingPo=!0:"additionalDocumentFile"===t?this.isLoadingAdditional=!0:"boxArtWorkFile"===t?this.isLoading=!0:this.isLoadingArt=!0;let i=new FormData;i.append("doc",a),this._OS.uploadDocument(i).pipe((0,B.x)(()=>{"purchaseOrderFile"===t?this.isLoadingPo=!1:"additionalDocumentFile"===t?this.isLoadingAdditional=!1:"boxArtWorkFile"===t?this.isLoading=!1:this.isLoadingArt=!1})).subscribe(l=>{if(l.meta.status){this.orderForm.get(t)?.reset(l.data);let o=l.data.split("/")[l.data.split("/").length-1];document.getElementById(t).innerHTML=o,this._notifier.showSuccess(l.meta.msg,"Success")}else this._notifier.showWarning(l.meta.msg,"")},l=>{this._notifier.showError("Something went wrong","Error")})}cancelFile(t,a){document.getElementById(t).innerHTML="Select File",$(`#${a}`).val(""),this.orderForm.get(t)?.reset("")}getData(){this.ngxService.start(),this._PS.getData(this.vendorId).subscribe({next:t=>{this.ngxService.stop(),t.cartData.meta.status?(this.cartProducts=t.cartData.data.cart,this.cartProducts.map(a=>{a.quantityTolerance=0,a.dimension={},a.pricePerPiece=0,a.totalPrice=0,a.productionleadTime=0,a.totalCbm=0,a.totalWeight=0,a.totalOneTimeCost=0,a.prePurchaseSampleTotalPrice=0})):(this.cartProducts=[],this._notifier.showWarning(t.cartData.meta.msg,"")),t.quoteData.meta.status?(this.quotes=t.quoteData.data,this.getCartQuoteByVendorId()):(this.quotes=[],this._notifier.showWarning(t.quoteData.meta.msg,""))},error:t=>{this.ngxService.stop(),this._notifier.showError("Something went wrong","Error")}})}getCartQuoteByVendorId(){if(this.addresses=this.quotes[0].userAddresses.filter(t=>"BILLING"===t.addressType),this.shippingAddresses=this.quotes[0].userAddresses.filter(t=>"SHIPPING"===t.addressType),this.quotes.map(t=>{let a=this.cartProducts.findIndex(i=>i.customerProductId===t.customerProductId);if(a>=0){this.cartProducts[a].dimension=t.dimension,this.cartProducts[a].PerPalleteCost=t.factory?.PerPalleteCost||t.warehouse?.PerPalleteCost||0;let i=Number((this.cartProducts[a].actualQuantity/t.casePack).toFixed());this.cartProducts[a].totalCartons=i,this.cartProducts[a].totalCbm=(Number(t.dimension.length||0)*Number(t.dimension.breadth||0)*Number(t.dimension.height||0)*16387064e-12*i).toFixed(3),this.cartProducts[a].totalWeight=i*t.grossWeight,this.cartProducts[a].totalOneTimeCost=Number(t.totalOneTimeCost),this.cartProducts[a].prePurchaseSampleTotalPrice=this.cartProducts[a].ppsQuantity?Number(t.prePurchaseSampleTotalPrice):0;let l=t.userQuotation.findIndex(o=>this.cartProducts[a].quantity===o.quantity);l>=0&&(this.cartProducts[a].quantityTolerance=Number(t.userQuotation[l].quantityTolerance),this.cartProducts[a].pricePerPiece=Number(t.userQuotation[l].pricePerPiece.toFixed(3)),this.cartProducts[a].totalPrice=Number((this.cartProducts[a].pricePerPiece*this.cartProducts[a].actualQuantity).toFixed(3)),this.cartProducts[a].productionleadTime=t.userQuotation[l].productionleadTime)}}),this.totalCBM=0,this.totalGrossWeight=0,this.totalProductionTime=0,this.totalCost=0,this.cartProducts.map((t,a,i)=>{this.prevData.isPalletizationRequired&&(t.horzont40hc=Math.floor(this.palletDimensionHorizontal40Hc.l/t.dimension.length)*Math.floor(this.palletDimensionHorizontal40Hc.b/t.dimension.breadth)*Math.floor(this.palletDimensionHorizontal40Hc.h/t.dimension.height),t.vertical40hc=Math.floor(this.palletDimensionVertical40Hc.l/t.dimension.length)*Math.floor(this.palletDimensionVertical40Hc.b/t.dimension.breadth)*Math.floor(this.palletDimensionVertical40Hc.h/t.dimension.height),t.max40hc=Math.max(t.horzont40hc,t.vertical40hc),t.horizontFt=Math.floor(this.palletDimensionHorizontal40Ft.l/t.dimension.length)*Math.floor(this.palletDimensionHorizontal40Ft.b/t.dimension.breadth)*Math.floor(this.palletDimensionHorizontal40Ft.h/t.dimension.height),t.verticalFt=Math.floor(this.palletDimensionVertical40Ft.l/t.dimension.length)*Math.floor(this.palletDimensionVertical40Ft.b/t.dimension.breadth)*Math.floor(this.palletDimensionVertical40Ft.h/t.dimension.height),t.maxFt=Math.max(t.horizontFt,t.verticalFt),t.totalPallet40Hc=Math.ceil(t.totalCartons/t.max40hc),t.totalPalletFt=Math.ceil(t.totalCartons/t.maxFt),t.totalCostPallet40Hc=t.PerPalleteCost*t.totalPallet40Hc,t.totalCostPalletFt=t.PerPalleteCost*t.totalPalletFt,this.totalPalletHc=this.totalPalletHc+t.totalPallet40Hc,this.totalPalletFt=this.totalPalletFt+t.totalPalletFt),this.totalCBM=Number((this.totalCBM+Number(t.totalCbm)).toFixed(3)),this.totalGrossWeight=Number((this.totalGrossWeight+Number(t.totalWeight)).toFixed(3)),this.prePurchaseSampleTotalPrice+=t.prePurchaseSampleTotalPrice,this.totalProductPrice+=+Number(t.totalPrice).toFixed(3),this.totalCost=Number((this.totalCost+Number(t.totalPrice)).toFixed(3))+(isNaN(t.totalOneTimeCost)?0:t.totalOneTimeCost)+t.prePurchaseSampleTotalPrice;const l=i.reduce((o,p)=>Number(o.productionleadTime)>Number(p.productionleadTime)?o:p);this.totalProductionTime=l.productionleadTime}),this.totalCost=this.totalCost+this.routeCost+this.palletCost,this.prevData.isPalletizationRequired){const t=Math.floor(this.totalPalletHc/s.N.noOfPallets["40hc"]),a=this.totalPalletHc/s.N.noOfPallets["40hc"]-t;Math.floor(this.totalPalletFt/s.N.noOfPallets["20ft"]),this.totalPalletFt/s.N.noOfPallets["20ft"]<=1?(this.remainingContainerFt=0,this.totalFtContainer=1,this.totalHcContainer=0,this.remainingContainerHc=0):(this.totalFtContainer=0,this.remainingContainerFt=0,a<.3?(this.remainingContainerHc=1,this.totalHcContainer=Math.floor(this.totalPalletHc/s.N.noOfPallets["40hc"])):(this.remainingContainerHc=0,this.totalHcContainer=Math.ceil(this.totalPalletHc/s.N.noOfPallets["40hc"])))}else if(this.totalCBM<=s.N.minCbm["20ft"]&&this.totalGrossWeight<=s.N.minWeight["20ft"])this.totalFtContainer=1,this.totalHcContainer=0;else if(this.totalCBM<=s.N.minCbm["20ft"]&&this.totalGrossWeight>s.N.minWeight["20ft"])this.totalFtContainer=0,this.totalHcContainer=1;else if(this.totalCBM>s.N.minCbm["20ft"]&&this.totalCBM<=s.N.minCbm["40hc"]&&this.totalGrossWeight<=s.N.minWeight["40hc"])this.totalFtContainer=0,this.totalHcContainer=1;else if(this.totalCBM>s.N.minCbm["20ft"]&&this.totalCBM<=s.N.minCbm["40hc"]&&this.totalGrossWeight>s.N.minWeight["40hc"])this.totalFtContainer=0,this.totalHcContainer=1;else if(this.totalCBM>s.N.minCbm["40hc"]){this.totalFtContainer=0,this.totalHcContainer=Math.floor(this.totalCBM/s.N.minCbm["40hc"]);const t=this.totalCBM-this.totalHcContainer*s.N.minCbm["40hc"];t<=s.N.minCbm["20ft"]?this.remainingContainerHc=1:t>s.N.minCbm["20ft"]&&t<=s.N.minCbm["40hc"]&&(this.remainingContainerHc=0,this.totalHcContainer+=1)}}placeOrder(){if(this.orderForm.valid){let t={};t=this.totalHcContainer<this.totalFtContainer?{hc40:this.remainingContainerFt,ft20:this.totalFtContainer}:this.totalHcContainer>this.totalFtContainer?{hc40:this.totalHcContainer,ft20:this.remainingContainerHc}:{hc40:0,ft20:1};const{shippingTerms:a,shipmentMode:i,isPalletizationRequired:l,shippingAddress:o,billingAddressId:p,isSameCountry:h}=this.prevData;let v={shippingTerms:a,shipmentMode:i,isPalletizationRequired:l,shippingAddress:o,billingAddressId:p,container:t,isSameCountry:h,noOfShipment:t.hc40+t.ft20,cartProducts:this.cartProducts.map(c=>({customerProductId:c.customerProductId,PerPalleteCost:c.PerPalleteCost,quantityTolerance:c.quantityTolerance,totalPallet:this.prevData.isPalletizationRequired?this.totalHcContainer<this.totalFtContainer?c.totalPallet40Hc:this.totalHcContainer>this.totalFtContainer?c.totalPalletFt:1:0,_id:c.cart._id,shippingTerms:a,shippingAddress:o,shipmentMode:i})),totalPallet:this.prevData.isPalletizationRequired?this.totalHcContainer<this.totalFtContainer?this.totalPalletHc:this.totalHcContainer>this.totalFtContainer?this.totalPalletFt:1:0,...this.orderForm.value};this.isLoadingOrder=!0,this._OS.placeOrder(v,this.vendorId).subscribe(c=>{this.isLoadingOrder=!1,c.meta.status?(this._US.changeCurrentAddToCartBoolean(!0),this._OS.setValue(void 0),$("#OrderSuccessModal").modal("show"),$("#OrderSuccessModal").on("hidden.bs.modal",ze=>{this.router.navigate(["order/pending/list"])})):this._notifier.showWarning(c.meta.msg,"")},c=>{this.isLoadingOrder=!1,this._notifier.showError("Something went wrong","Error")})}else this.submitted=!0}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(_.p),e.Y36(m.gz),e.Y36(m.F0),e.Y36(T.s),e.Y36(A.l),e.Y36(d.qu),e.Y36(Z.LA),e.Y36(L.K))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-summary-step1"]],decls:370,vars:73,consts:[[1,"dashboardMain"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"page-header","back-page","border-0","mb-2"],[1,"mb-0"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"bg-white","white-well"],[1,"row","align-items-center"],[1,"col-6","col-sm-6","col-md-2","col-lg-2"],[1,"page-header"],[1,"text-success","fw-bold","m-0"],[1,"table-card"],[1,"table-reponsive","fix-headertbl","vh-auto"],[1,"table"],[1,"table-info"],["scope","col"],["scope","col",1,"text-start"],[4,"ngFor","ngForOf"],[1,"summery-sec"],[1,"summery-sec-header"],[1,"d-flex","justify-content-end","list-inline","mb-0"],[1,"subtotal"],[1,"tax-details-div","my-5"],[1,"col-md-6","col-12"],[1,""],[1,"row","justify-content-start","gap-3"],[1,"col-sm-12","col-12"],[1,"bg-white","p-3","text-12","rounded"],[1,"detail-heading"],[1,"fw-bold","px-3","m-0","text-success","cartData"],[1,"box-data","px-1","pt-1"],[1,"box-item","mb-1","text-dark","d-flex","justify-content-between"],[1,"px-3","rounded","text-white","bg-success"],[4,"ngIf"],[1,"border-dashed","pt-2"],[1,"box-data"],[1,"box-item","m-0","text-dark","d-flex","justify-content-between"],[1,"col-md-6","col-12","left-dashed-border"],[1,"row","justify-content-end","gap-3"],[1,"col-12"],[1,"detail-box"],[1,"border-bottom","border-success"],[1,"m-0","fw-bold","text-white","bg-success","cartData"],[1,"box-data","px-3","pt-2"],[1,"d-flex","justify-content-between"],[1,"box-item","text-dark","fw-semibold","fw500"],["class","box-data",4,"ngIf"],["class","d-flex justify-content-between mb-2",4,"ngIf"],[1,"border-dashed","text-white"],[1,"d-flex","justify-content-between","px-3","pt-1"],[1,"box-data","text-dark"],[1,"summery-sec-header","mt-3"],[1,"cart"],[1,"form-box","form-filter"],[1,"row","mb-4"],[1,"col-12","col-sm-6","col-md-4"],[1,"title"],[1,"fw500"],[1,"form-group"],["class","form-control form-ctrl","disabled","",4,"ngIf"],["class","form-control form-ctrl","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["disabled","","name","adress",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-12"],["disabled","",1,"form-control","form-ctrl"],[1,"col-12","col-sm-7","col-md-7","col-xl-7",3,"formGroup"],[1,"col-12","col-sm-6","col-md-6"],[1,"fs12","fw400"],[1,"file-form-control"],[1,"upload-doc-item","justify-content-between","d-flex"],[1,"image-upload"],["type","file","name","","id","boxArtWor","accept",".ai,.cdr,image/*,application/pdf",3,"disabled","change"],["for","boxArtWor","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/mc.png","alt",""],["id","boxArtWorkFile"],["class","Upload-btn btn btn-success",4,"ngIf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["class","Upload-btn btn m-1 btn-danger",3,"click",4,"ngIf"],["type","text","placeholder","Label","formControlName","label",1,"form-control","form-ctrl"],["type","file","name","","id","artWork","accept",".ai,.cdr,image/*,application/pdf",3,"disabled","change"],["for","artWork","id","file-label",1,"upload-field"],["id","artWorkFile"],["type","file","name","","id","additionalDoc",3,"disabled","change"],["for","additionalDoc","id","file-label",1,"upload-field"],["id","additionalDocumentFile"],["type","file","name","","id","POInvo","accept","application/pdf,image/*",3,"disabled","change"],["for","POInvo","id","file-label",1,"upload-field"],["id","purchaseOrderFile"],["type","text","placeholder","Number","formControlName","purchaseOrderNumber",1,"form-control","form-ctrl"],[1,"col-12","col-sm-5","col-md-5","col-xl-5"],[1,"summary","summary-danger"],[1,"fw500","border-0","pb-0"],[1,"Price-Details","mb-0"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge"],[1,"row","justify-content-end"],[1,"col-6","col-sm-3","col-md-3","col-lg-2","col-xl-2"],[1,"btn","btn-sumbit","btn-block","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","OrderSuccessModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-body"],[1,"congrulations","text-center"],[1,"login-white-box"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"pro-img-table","d-flex"],[1,"rounded","me-3",3,"src","alt"],[1,"qty-btn-outline"],[1,"d-flex","justify-content-between","mb-2"],[1,"box-item","text-dark"],[1,"text-dark","fw500","m-0"],[1,"ms-3"],["disabled","",1,"form-control","form-ctrl",3,"ngModel","ngModelChange"],[3,"value"],[1,"Upload-btn","btn","btn-success"],["class","fa fa-spin fa-spinner",4,"ngIf"],[1,"fa","fa-spin","fa-spinner"],[1,"invalid-feedback",2,"display","block"],[1,"Upload-btn","btn","m-1","btn-danger",3,"click"],[1,"fa","fa-close"]],template:function(a,i){1&a&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3",4)(6,"a",5),e._UZ(7,"img",6),e.qZA(),e._uU(8," Order Summary"),e.qZA()()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h5"),e._uU(14),e.qZA(),e.TgZ(15,"p",11),e._uU(16," 1. Products "),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",13)(19,"table",14)(20,"thead")(21,"tr",15)(22,"th",16),e._uU(23,"Product Details"),e.qZA(),e.TgZ(24,"th",17),e._uU(25,"Quantity"),e.qZA(),e.TgZ(26,"th",17),e._uU(27,"Actual Quantity"),e.qZA(),e.TgZ(28,"th",16),e._uU(29,"PPS Quantity"),e.qZA(),e.TgZ(30,"th",16),e._uU(31,"Price Per Piece"),e.qZA(),e.TgZ(32,"th",16),e._uU(33,"Total Price "),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,W,22,12,"tr",18),e.qZA()()()()(),e.TgZ(36,"div",19)(37,"div",20)(38,"ul",21)(39,"li",22),e._uU(40),e.qZA()()(),e.TgZ(41,"div",23)(42,"div",1)(43,"div",24)(44,"div",25)(45,"div",26)(46,"div",27)(47,"div",28)(48,"div",29)(49,"div",25)(50,"p",30),e._uU(51,"2. Logistics Details "),e.qZA()(),e.TgZ(52,"div",31)(53,"ul",25)(54,"li",32)(55,"span"),e._uU(56," Gross Weight:"),e.qZA(),e.TgZ(57,"span"),e._uU(58),e.qZA()(),e.TgZ(59,"li",32)(60,"span"),e._uU(61,"Total CBM: "),e.qZA(),e.TgZ(62,"span"),e._uU(63),e.qZA()(),e.TgZ(64,"li",32)(65,"span"),e._uU(66," Delivery Lead Time: "),e.qZA(),e.TgZ(67,"span"),e._uU(68),e.qZA()(),e.TgZ(69,"li",32)(70,"span"),e._uU(71," Shipment Term "),e.qZA(),e.TgZ(72,"span",33),e._uU(73),e.qZA()(),e.TgZ(74,"li",32)(75,"span"),e._uU(76," Shipment Mode "),e.qZA(),e.YNc(77,E,2,0,"span",34),e.YNc(78,G,2,1,"span",34),e.qZA(),e.TgZ(79,"li",32)(80,"span"),e._uU(81," Container Type "),e.qZA(),e.TgZ(82,"span",25),e.YNc(83,z,2,0,"ng-container",34),e.YNc(84,R,4,2,"ng-container",34),e.YNc(85,K,2,1,"ng-container",34),e.qZA()()(),e.TgZ(86,"div",35)(87,"p",30),e._uU(88,"3. Productions Details "),e.qZA()(),e.TgZ(89,"div",36)(90,"ul")(91,"li",37)(92,"span"),e._uU(93," Production Lead Time "),e.qZA(),e.TgZ(94,"span"),e._uU(95),e.qZA()()()(),e.TgZ(96,"div",35)(97,"p",30),e._uU(98,"4. Palletization "),e.qZA()(),e.TgZ(99,"div",36)(100,"ul")(101,"li",37)(102,"span"),e._uU(103,"Palletization Cost "),e.qZA(),e.TgZ(104,"span"),e._uU(105),e.qZA()()()(),e.TgZ(106,"div",35)(107,"p",30),e._uU(108,"5. One Time Charges (OTC) "),e.qZA()(),e.TgZ(109,"div",36)(110,"ul")(111,"li",37)(112,"span"),e._uU(113,"Total OTC Charges"),e.qZA(),e.TgZ(114,"span"),e._uU(115),e.qZA()()()(),e.TgZ(116,"div",35)(117,"p",30),e._uU(118,"6. Pre Product Sample (PPS) "),e.qZA()(),e.TgZ(119,"ul")(120,"li",37)(121,"span"),e._uU(122,"Total PPS Charges"),e.qZA(),e.TgZ(123,"span"),e._uU(124),e.qZA()()(),e.TgZ(125,"div",35)(126,"p",30),e._uU(127,"7. Other Charges "),e.qZA()(),e.TgZ(128,"ul")(129,"li",37)(130,"span"),e._uU(131,"Total Other Charges"),e.qZA(),e.YNc(132,X,2,0,"span",34),e.YNc(133,ee,2,1,"span",34),e.qZA()()()()()()()()(),e.TgZ(134,"div",38)(135,"div",39)(136,"div",40)(137,"div",41)(138,"div",29)(139,"div",42)(140,"h6",43),e._uU(141),e.qZA()(),e.TgZ(142,"div",44)(143,"div",45)(144,"p",46),e._uU(145,"Total Taxes"),e.qZA(),e.YNc(146,te,2,0,"p",47),e.YNc(147,ie,2,0,"p",47),e.qZA(),e.TgZ(148,"div",45)(149,"p",46),e._uU(150,"Total Duties"),e.qZA(),e.YNc(151,re,2,0,"p",47),e.YNc(152,ae,2,0,"p",47),e.qZA()()()()(),e.TgZ(153,"div",40)(154,"div",41)(155,"div",29)(156,"div",42)(157,"h6",43),e._uU(158,"9. Logistics Cost "),e.qZA()(),e.TgZ(159,"div",44),e.YNc(160,ne,8,2,"div",48),e.YNc(161,oe,8,2,"div",48),e.YNc(162,le,8,2,"div",48),e.YNc(163,se,8,2,"div",48),e.qZA(),e.TgZ(164,"div",49)(165,"div",50)(166,"p",46),e._uU(167,"Total Logistics Cost"),e.qZA(),e.TgZ(168,"p",51),e._uU(169),e.qZA()()()()()()()()()(),e.TgZ(170,"div",52)(171,"ul",21)(172,"li",53),e._uU(173),e.qZA()()(),e.TgZ(174,"div",7)(175,"div",54)(176,"div",55)(177,"div",56)(178,"div",57)(179,"h4",58),e._uU(180,"Shipping Address"),e.qZA()(),e.TgZ(181,"div",59)(182,"label"),e._uU(183,"Address"),e.qZA(),e.YNc(184,de,3,1,"select",60),e.YNc(185,pe,4,2,"select",61),e.qZA()(),e.TgZ(186,"div",56)(187,"div",57)(188,"h4",58),e._uU(189,"Billing Address"),e.qZA()(),e.TgZ(190,"div",59)(191,"label"),e._uU(192,"Address"),e.qZA(),e.TgZ(193,"select",62),e.NdJ("ngModelChange",function(o){return i.billingAddressId=o}),e.TgZ(194,"option",63),e._uU(195,"Select Address"),e.qZA(),e.YNc(196,ce,2,5,"option",64),e.qZA()()()(),e.TgZ(197,"div",1)(198,"div",65)(199,"div",57)(200,"h4",58),e._uU(201,"Shipping Details"),e.qZA()(),e.TgZ(202,"div",1)(203,"div",56)(204,"div",59)(205,"label"),e._uU(206,"Shipping Mode"),e.qZA(),e.TgZ(207,"select",66)(208,"option"),e._uU(209),e.qZA()()()(),e.TgZ(210,"div",56)(211,"div",59)(212,"label"),e._uU(213,"Shipping Terms"),e.qZA(),e.TgZ(214,"select",66)(215,"option"),e._uU(216),e.qZA()()()(),e.TgZ(217,"div",56)(218,"div",59)(219,"label"),e._uU(220,"Palletization Required"),e.qZA(),e.TgZ(221,"select",66)(222,"option"),e._uU(223),e.qZA()()()()()()()()(),e.TgZ(224,"div",7)(225,"div",54)(226,"div",55)(227,"div",67)(228,"div",57)(229,"h4",58),e._uU(230,"Order Related Details"),e.qZA()(),e.TgZ(231,"div",1)(232,"div",68)(233,"div",59)(234,"label"),e._uU(235,"Box Label "),e.TgZ(236,"span",69),e._uU(237,"(Only Ai, CDR, pdf, Jpg & Png)"),e.qZA()(),e.TgZ(238,"div",70)(239,"div",71)(240,"div",72)(241,"input",73),e.NdJ("change",function(o){return i.uploadArtwork(o,"boxArtWorkFile")}),e.qZA(),e.TgZ(242,"label",74)(243,"div",75),e._UZ(244,"img",76),e.TgZ(245,"h6",77),e._uU(246,"Select File"),e.qZA(),e.YNc(247,ge,3,1,"div",78),e.qZA()(),e.YNc(248,Ze,2,1,"div",79),e.qZA(),e.YNc(249,ve,2,0,"div",80),e.qZA()()()(),e.TgZ(250,"div",68)(251,"div",59)(252,"label"),e._uU(253,"Label"),e.qZA(),e._UZ(254,"input",81),e.YNc(255,_e,2,1,"div",79),e.qZA()(),e.TgZ(256,"div",68)(257,"div",59)(258,"label"),e._uU(259,"Artwork "),e.TgZ(260,"span",69),e._uU(261,"(Only Ai, CDR, pdf, Jpg & Png)"),e.qZA()(),e.TgZ(262,"div",70)(263,"div",71)(264,"div",72)(265,"input",82),e.NdJ("change",function(o){return i.uploadArtwork(o,"artWorkFile")}),e.qZA(),e.TgZ(266,"label",83)(267,"div",75),e._UZ(268,"img",76),e.TgZ(269,"h6",84),e._uU(270,"Select File"),e.qZA(),e.YNc(271,Ae,3,1,"div",78),e.qZA()(),e.YNc(272,be,2,1,"div",79),e.qZA(),e.YNc(273,qe,2,0,"div",80),e.qZA()()()(),e.TgZ(274,"div",68)(275,"div",59)(276,"label"),e._uU(277,"Additional Documents "),e.TgZ(278,"span",69),e._uU(279,"(Only Jpg, Png & pdf)"),e.qZA()(),e.TgZ(280,"div",70)(281,"div",71)(282,"div",72)(283,"input",85),e.NdJ("change",function(o){return i.uploadArtwork(o,"additionalDocumentFile")}),e.qZA(),e.TgZ(284,"label",86)(285,"div",75),e._UZ(286,"img",76),e.TgZ(287,"h6",87),e._uU(288,"Select File"),e.qZA(),e.YNc(289,De,3,1,"div",78),e.qZA()(),e.YNc(290,xe,2,1,"div",79),e.qZA(),e.YNc(291,ye,2,0,"div",80),e.qZA()()()(),e.TgZ(292,"div",68)(293,"div",59)(294,"label"),e._uU(295,"Purchase Order (PO) "),e.TgZ(296,"span",69),e._uU(297,"(Only Jpg, Png & pdf)"),e.qZA()(),e.TgZ(298,"div",70)(299,"div",71)(300,"div",72)(301,"input",88),e.NdJ("change",function(o){return i.uploadArtwork(o,"purchaseOrderFile")}),e.qZA(),e.TgZ(302,"label",89)(303,"div",75),e._UZ(304,"img",76),e.TgZ(305,"h6",90),e._uU(306,"Select File"),e.qZA(),e.YNc(307,Oe,3,1,"div",78),e.qZA()(),e.YNc(308,Ne,2,1,"div",79),e.qZA(),e.YNc(309,Ie,2,0,"div",80),e.qZA()()()(),e.TgZ(310,"div",68)(311,"div",59)(312,"label"),e._uU(313,"Purchase Order (PO) Number"),e.qZA(),e._UZ(314,"input",91),e.YNc(315,Qe,2,1,"div",79),e.qZA()()()(),e.TgZ(316,"div",92)(317,"div",93)(318,"h4",94),e._uU(319,"Price Summary"),e.qZA(),e.TgZ(320,"div",95)(321,"ul",96)(322,"li",97),e._uU(323," Total CBM "),e.TgZ(324,"span",98),e._uU(325),e.qZA()(),e.TgZ(326,"li",97),e._uU(327," Total Weight "),e.TgZ(328,"span",98),e._uU(329),e.qZA()(),e.TgZ(330,"li",97),e._uU(331," Shipment Term "),e.TgZ(332,"span",98),e._uU(333),e.qZA()(),e.TgZ(334,"li",97),e._uU(335," Shipment Mode "),e.TgZ(336,"span",98),e._uU(337),e.qZA()(),e.TgZ(338,"li",97),e._uU(339," Container Type "),e.TgZ(340,"span",98),e.YNc(341,He,2,0,"ng-container",34),e.YNc(342,ke,4,2,"ng-container",34),e.YNc(343,Me,2,1,"ng-container",34),e.qZA()(),e.TgZ(344,"li",97),e._uU(345," Palletization "),e.TgZ(346,"span",98),e._uU(347),e.qZA()()()()()()()()(),e.TgZ(348,"div",54)(349,"div",99)(350,"div",100)(351,"button",101),e.NdJ("click",function(){return i.placeOrder()}),e._UZ(352,"i",102),e._uU(353," Place Order "),e.qZA()()()()()()(),e.TgZ(354,"div",103)(355,"div",104)(356,"div",105)(357,"div",106)(358,"div",107)(359,"div",108)(360,"div",109),e._UZ(361,"img",110),e.O4$(),e.TgZ(362,"svg",111),e._UZ(363,"circle",112)(364,"polyline",113),e.qZA()(),e.kcU(),e.TgZ(365,"h3"),e._uU(366,"Order Placed"),e.qZA(),e.TgZ(367,"p"),e._uU(368,"You have successfully placed the order. "),e.qZA()()()()()()(),e._UZ(369,"ngx-ui-loader",114)),2&a&&(e.xp6(14),e.hij("Vendor ID: ",null==i.prevData?null:i.prevData.vendorId,""),e.xp6(21),e.Q6J("ngForOf",i.cartProducts),e.xp6(5),e.AsE("Total Product Cost : ",i.prevData.selectedCurrency," ",i.totalProductPrice," "),e.xp6(18),e.hij("",i.totalGrossWeight," kg"),e.xp6(5),e.hij(" ",i.totalCBM,""),e.xp6(5),e.hij(" ",i.freightTime," Days"),e.xp6(5),e.hij(" ",null==i.prevData?null:i.prevData.shippingTerms," "),e.xp6(4),e.Q6J("ngIf","Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(5),e.Q6J("ngIf",i.totalHcContainer<i.totalFtContainer),e.xp6(1),e.Q6J("ngIf",i.totalHcContainer>i.totalFtContainer),e.xp6(1),e.Q6J("ngIf",i.totalHcContainer===i.totalFtContainer),e.xp6(10),e.hij(" ",i.totalProductionTime," Days "),e.xp6(10),e.AsE(" ",i.prevData.selectedCurrency," ",i.palletCost," "),e.xp6(10),e.AsE(" ",i.prevData.selectedCurrency," ",i.NewTotalOnetimeCost,""),e.xp6(9),e.AsE(" ",i.prevData.selectedCurrency," ",i.prePurchaseSampleTotalPrice,""),e.xp6(8),e.Q6J("ngIf","FOB"==(null==i.prevData?null:i.prevData.shippingTerms)||"CIF"==(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(8),e.hij("8. Taxes & Duties - ",i.prevData.selectedCurrency," "),e.xp6(5),e.Q6J("ngIf","CIF"==(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","FOB"==(null==i.prevData?null:i.prevData.shippingTerms)||"Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(4),e.Q6J("ngIf","CIF"==(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","FOB"==(null==i.prevData?null:i.prevData.shippingTerms)||"Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(8),e.Q6J("ngIf","Delivered"==(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","Delivered"!=(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(6),e.AsE("",i.prevData.selectedCurrency," ",i.routeCost,""),e.xp6(4),e.hij("Net Product Price: ",i.totalCost," "),e.xp6(11),e.Q6J("ngIf","FOB"===(null==i.prevData?null:i.prevData.shippingTerms)||"CIF"===(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(1),e.Q6J("ngIf","DDU"===(null==i.prevData?null:i.prevData.shippingTerms)||"DDP"===(null==i.prevData?null:i.prevData.shippingTerms)||"Delivered"===(null==i.prevData?null:i.prevData.shippingTerms)),e.xp6(8),e.Q6J("ngModel",i.billingAddressId),e.xp6(3),e.Q6J("ngForOf",i.addresses),e.xp6(13),e.Oqu(null==i.prevData?null:i.prevData.shipmentMode),e.xp6(7),e.Oqu(null==i.prevData?null:i.prevData.shippingTerms),e.xp6(7),e.Oqu(null!=i.prevData&&i.prevData.isPalletizationRequired?"Yes":"No"),e.xp6(4),e.Q6J("formGroup",i.orderForm),e.xp6(14),e.Q6J("disabled",i.isLoading),e.xp6(6),e.Q6J("ngIf",!i.orderFormControls.boxArtWorkFile.value),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.orderFormControls.boxArtWorkFile.errors),e.xp6(1),e.Q6J("ngIf",i.orderFormControls.boxArtWorkFile.value),e.xp6(6),e.Q6J("ngIf",i.submitted&&i.orderFormControls.label.errors),e.xp6(10),e.Q6J("disabled",i.isLoadingArt),e.xp6(6),e.Q6J("ngIf",!i.orderFormControls.artWorkFile.value),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.orderFormControls.artWorkFile.errors),e.xp6(1),e.Q6J("ngIf",i.orderFormControls.artWorkFile.value),e.xp6(10),e.Q6J("disabled",i.isLoadingAdditional),e.xp6(6),e.Q6J("ngIf",!i.orderFormControls.additionalDocumentFile.value),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.orderFormControls.additionalDocumentFile.errors),e.xp6(1),e.Q6J("ngIf",i.orderFormControls.additionalDocumentFile.value),e.xp6(10),e.Q6J("disabled",i.isLoadingPo),e.xp6(6),e.Q6J("ngIf",!i.orderFormControls.purchaseOrderFile.value),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.orderFormControls.purchaseOrderFile.errors),e.xp6(1),e.Q6J("ngIf",i.orderFormControls.purchaseOrderFile.value),e.xp6(6),e.Q6J("ngIf",i.submitted&&i.orderFormControls.purchaseOrderNumber.errors),e.xp6(10),e.hij(" ",i.totalCBM,""),e.xp6(4),e.hij("",i.totalGrossWeight," kg"),e.xp6(4),e.Oqu(null==i.prevData?null:i.prevData.shippingTerms),e.xp6(4),e.Oqu(null==i.prevData?null:i.prevData.shipmentMode),e.xp6(4),e.Q6J("ngIf",i.totalHcContainer<i.totalFtContainer),e.xp6(1),e.Q6J("ngIf",i.totalHcContainer>i.totalFtContainer),e.xp6(1),e.Q6J("ngIf",i.totalHcContainer===i.totalFtContainer),e.xp6(4),e.Oqu(null!=i.prevData&&i.prevData.isPalletizationRequired?"Yes":"No"),e.xp6(4),e.Q6J("disabled",i.isLoadingOrder),e.xp6(1),e.Q6J("ngClass",e.VKq(71,Ye,i.isLoadingOrder)),e.xp6(17),e.Q6J("hasProgressBar",!1))},dependencies:[g.mk,g.sg,g.O5,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.On,Z.Eo,d.sg,d.u]})}return r})()},{path:"step2",component:(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-summary-step2"]],decls:259,vars:0,consts:[[1,"dashboardMain"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"page-header","border-0"],[1,"mb-0"],[1,"bg-white","white-well"],[1,"row","align-items-center"],[1,"col-6","col-sm-2","col-md-2","col-lg-2"],[1,"page-header"],[1,"col-12","col-sm-8","col-md-8","col-lg-8","text-end"],[1,"form-box","form-filter"],[1,"form-group"],["href","#",1,"btn","btn-sumbit","btn-outline-success","me-3"],[1,"fa","fa-plus","me-2"],["href","#","download","",1,"btn","btn-sumbit","btn-outline-success","me-3"],[1,"fa","fa-download","me-2"],["href","javascript:void(0)","routerLink","/message",1,"btn","btn-sumbit","btn-outline-success"],[1,"fa","fa-weixin","me-2"],[1,"table-card"],[1,"table-reponsive","fix-headertbl"],[1,"table"],[1,"table-info"],["scope","col"],["scope","col",1,"text-start"],[1,"text-success","fa","fa-info-circle"],[1,"pro-img-table","d-flex"],["src","assets/images/product-img0.png","alt","",1,"rounded","me-3"],[1,"qty-btn-outline"],["type","button",1,"btn","btn-link","btn-sm","rounded"],["src","assets/images/delete-icon.png"],[1,"summery-sec"],[1,"summery-sec-header"],[1,"d-flex","justify-content-between","list-inline","mb-0"],[1,"row","mb-4"],[1,"col-12","col-sm-7","col-md-7","col-xl-7"],[1,"title"],[1,"fw500"],[1,"col-12","col-sm-6","col-md-6"],[1,"file-form-control"],[1,"upload-doc-item"],[1,"image-upload"],["type","file","name","","id","logo","onchange","fileValue(this)"],["for","logo","id","file-label",1,"upload-field"],[1,"file-thumbnail"],["id","file-image-preview","src","assets/images/mc.png","alt",""],["id","filename"],[1,"Upload-btn","btn","btn-success"],["type","text","placeholder","Label",1,"form-control","form-ctrl"],[1,"col-12","col-sm-5","col-md-5","col-xl-5"],[1,"summary","summary-danger"],[1,"fw500","border-0","pb-0"],[1,"Price-Details","mb-0"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge"],[1,"row","justify-content-end"],[1,"col-6","col-sm-3","col-md-3","col-lg-2","col-xl-2"],["href","#OrderSuccessModal","data-bs-toggle","modal",1,"btn","btn-sumbit","btn-block","btn-success"],["id","OrderSuccessModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","feedback-popup"],[1,"modal-body"],[1,"congrulations","text-center"],[1,"login-white-box"],[1,"congrulations-img"],["src","assets/images/objects.png"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#fff","stroke-width","0","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#fff","stroke-width","10","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"]],template:function(a,i){1&a&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3",4),e._uU(6," Order Summary"),e.qZA()()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h5"),e._uU(12," Cart ID: 12223"),e.qZA()()(),e.TgZ(13,"div",7)(14,"div",8)(15,"h5"),e._uU(16,"Vendor ID: 12223"),e.qZA()()(),e.TgZ(17,"div",9)(18,"div",10)(19,"div",11)(20,"a",12),e._UZ(21,"i",13),e._uU(22," Add More"),e.qZA(),e.TgZ(23,"a",14),e._UZ(24,"i",15),e._uU(25," Comparison Matrix"),e.qZA(),e.TgZ(26,"a",16),e._UZ(27,"i",17),e._uU(28,"Message Vendor"),e.qZA()()()()(),e.TgZ(29,"div",18)(30,"div",19)(31,"table",20)(32,"thead")(33,"tr",21)(34,"th",22),e._uU(35,"Product Details"),e.qZA(),e.TgZ(36,"th",23),e._uU(37,"Quantity"),e.qZA(),e.TgZ(38,"th",22),e._uU(39,"PPS Quantity"),e.qZA(),e.TgZ(40,"th",22),e._uU(41,"Price Per Piece"),e.qZA(),e.TgZ(42,"th",22),e._uU(43,"Total Price "),e._UZ(44,"span",24),e.qZA(),e.TgZ(45,"th",22),e._uU(46,"\xad"),e.qZA()()(),e.TgZ(47,"tbody")(48,"tr")(49,"td")(50,"div",25),e._UZ(51,"img",26),e.TgZ(52,"div"),e._uU(53," #81093"),e._UZ(54,"br"),e.TgZ(55,"h5"),e._uU(56,"Customer Item Name"),e.qZA(),e._uU(57," Product Name "),e.qZA()()(),e.TgZ(58,"td")(59,"span",27),e._uU(60,"10"),e.qZA()(),e.TgZ(61,"td")(62,"span",27),e._uU(63,"10"),e.qZA()(),e.TgZ(64,"td"),e._uU(65,"$ 23.00"),e.qZA(),e.TgZ(66,"td"),e._uU(67,"$ 23.00"),e.qZA(),e.TgZ(68,"td")(69,"button",28),e._UZ(70,"img",29),e.qZA()()(),e.TgZ(71,"tr")(72,"td")(73,"div",25),e._UZ(74,"img",26),e.TgZ(75,"div"),e._uU(76," #81093"),e._UZ(77,"br"),e.TgZ(78,"h5"),e._uU(79,"Customer Item Name"),e.qZA(),e._uU(80," Product Name "),e.qZA()()(),e.TgZ(81,"td")(82,"span",27),e._uU(83,"10"),e.qZA()(),e.TgZ(84,"td")(85,"span",27),e._uU(86,"10"),e.qZA()(),e.TgZ(87,"td"),e._uU(88,"$ 23.00"),e.qZA(),e.TgZ(89,"td"),e._uU(90,"$ 23.00"),e.qZA(),e.TgZ(91,"td")(92,"button",28),e._UZ(93,"img",29),e.qZA()()(),e.TgZ(94,"tr")(95,"td")(96,"div",25),e._UZ(97,"img",26),e.TgZ(98,"div"),e._uU(99," #81093"),e._UZ(100,"br"),e.TgZ(101,"h5"),e._uU(102,"Customer Item Name"),e.qZA(),e._uU(103," Product Name "),e.qZA()()(),e.TgZ(104,"td")(105,"span",27),e._uU(106,"10"),e.qZA()(),e.TgZ(107,"td")(108,"span",27),e._uU(109,"10"),e.qZA()(),e.TgZ(110,"td"),e._uU(111,"$ 23.00"),e.qZA(),e.TgZ(112,"td"),e._uU(113,"$ 23.00"),e.qZA(),e.TgZ(114,"td")(115,"button",28),e._UZ(116,"img",29),e.qZA()()(),e.TgZ(117,"tr")(118,"td")(119,"div",25),e._UZ(120,"img",26),e.TgZ(121,"div"),e._uU(122," #81093"),e._UZ(123,"br"),e.TgZ(124,"h5"),e._uU(125,"Customer Item Name"),e.qZA(),e._uU(126," Product Name "),e.qZA()()(),e.TgZ(127,"td")(128,"span",27),e._uU(129,"10"),e.qZA()(),e.TgZ(130,"td")(131,"span",27),e._uU(132,"10"),e.qZA()(),e.TgZ(133,"td"),e._uU(134,"$ 23.00"),e.qZA(),e.TgZ(135,"td"),e._uU(136,"$ 23.00"),e.qZA(),e.TgZ(137,"td")(138,"button",28),e._UZ(139,"img",29),e.qZA()()()()()()()(),e.TgZ(140,"div",30)(141,"div",31)(142,"ul",32)(143,"li"),e._uU(144,"Total CBM: 000"),e.qZA(),e.TgZ(145,"li"),e._uU(146,"Gross Weight: 000"),e.qZA(),e.TgZ(147,"li"),e._uU(148,"Production Lead Time: 00 Days"),e.qZA(),e.TgZ(149,"li"),e._uU(150,"Freight Time: 00 Days"),e.qZA()()(),e.TgZ(151,"div",5)(152,"div",10)(153,"div",33)(154,"div",34)(155,"div",35)(156,"h4",36),e._uU(157,"Order Related Details"),e.qZA()(),e.TgZ(158,"div",1)(159,"div",37)(160,"div",11)(161,"label"),e._uU(162,"Box Artwork/Label"),e.qZA(),e.TgZ(163,"div",38)(164,"div",39)(165,"div",40),e._UZ(166,"input",41),e.TgZ(167,"label",42)(168,"div",43),e._UZ(169,"img",44),e.TgZ(170,"h6",45),e._uU(171,"Select File"),e.qZA(),e.TgZ(172,"div",46),e._uU(173,"Upload"),e.qZA()()()()()()()(),e.TgZ(174,"div",37)(175,"div",11)(176,"label"),e._uU(177,"Label"),e.qZA(),e._UZ(178,"input",47),e.qZA()(),e.TgZ(179,"div",37)(180,"div",11)(181,"label"),e._uU(182,"Artwork"),e.qZA(),e.TgZ(183,"div",38)(184,"div",39)(185,"div",40),e._UZ(186,"input",41),e.TgZ(187,"label",42)(188,"div",43),e._UZ(189,"img",44),e.TgZ(190,"h6",45),e._uU(191,"Select File"),e.qZA(),e.TgZ(192,"div",46),e._uU(193,"Upload"),e.qZA()()()()()()()(),e.TgZ(194,"div",37)(195,"div",11)(196,"label"),e._uU(197,"Additional Documents"),e.qZA(),e.TgZ(198,"div",38)(199,"div",39)(200,"div",40),e._UZ(201,"input",41),e.TgZ(202,"label",42)(203,"div",43),e._UZ(204,"img",44),e.TgZ(205,"h6",45),e._uU(206,"Select File"),e.qZA(),e.TgZ(207,"div",46),e._uU(208,"Upload"),e.qZA()()()()()()()()()(),e.TgZ(209,"div",48)(210,"div",49)(211,"h4",50),e._uU(212,"Price Summary"),e.qZA(),e.TgZ(213,"div",51)(214,"ul",52)(215,"li",53),e._uU(216," Total CBM "),e.TgZ(217,"span",54),e._uU(218," 120"),e.qZA()(),e.TgZ(219,"li",53),e._uU(220," Total Weight "),e.TgZ(221,"span",54),e._uU(222,"120 kg"),e.qZA()(),e.TgZ(223,"li",53),e._uU(224," Shipment Term "),e.TgZ(225,"span",54),e._uU(226,"Shipment Term"),e.qZA()(),e.TgZ(227,"li",53),e._uU(228," Shipment Mode "),e.TgZ(229,"span",54),e._uU(230,"Shipment Mode"),e.qZA()(),e.TgZ(231,"li",53),e._uU(232," Container Type "),e.TgZ(233,"span",54),e._uU(234,"Container Type"),e.qZA()(),e.TgZ(235,"li",53),e._uU(236," Palletization "),e.TgZ(237,"span",54),e._uU(238,"Palletization"),e.qZA()()()()()()()()(),e.TgZ(239,"div",10)(240,"div",55)(241,"div",56)(242,"a",57),e._uU(243,"Place Order"),e.qZA()()()()()()(),e.TgZ(244,"div",58)(245,"div",59)(246,"div",60)(247,"div",61)(248,"div",62)(249,"div",63)(250,"div",64),e._UZ(251,"img",65),e.O4$(),e.TgZ(252,"svg",66),e._UZ(253,"circle",67)(254,"polyline",68),e.qZA()(),e.kcU(),e.TgZ(255,"h3"),e._uU(256,"Order Placed"),e.qZA(),e.TgZ(257,"p"),e._uU(258,"You have successfully placed the order. "),e.qZA()()()()()()())},dependencies:[m.rH]})}return r})()}];let Be=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(je),m.Bz]})}return r})(),Le=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[g.ez,Be,d.u5,Z.Js,d.UX]})}return r})()}}]);